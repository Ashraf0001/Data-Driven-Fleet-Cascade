{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"/]+|(?!\\b)(?=[A-Z][a-z])|\\.(?!\\d)|&[lg]t;","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Fleet Decision Platform","text":"<ul> <li> <p> Set up in 5 minutes</p> <p>Get up and running with the Fleet Decision Platform quickly using our streamlined installation process.</p> <p> Getting Started</p> </li> <li> <p> Highly Configurable</p> <p>Customize every aspect of the platform through YAML configuration files without changing code.</p> <p> Configuration</p> </li> <li> <p> Demand Forecasting</p> <p>Multi-location time-series forecasting with XGBoost, Prophet, and hierarchical reconciliation.</p> <p> Forecasting Guide</p> </li> <li> <p> Fleet Optimization</p> <p>Cascading optimization with min-cost flow and MILP for cost-effective fleet allocation.</p> <p> Optimization Guide</p> </li> </ul>"},{"location":"#overview","title":"Overview","text":"<p>The Fleet Decision Platform is an enterprise-grade decision intelligence system that transforms demand forecasts, contract rules, and risk predictions into explainable, cost-optimized fleet allocation decisions.</p> <pre><code>graph LR\n    A[Demand Data] --&gt; B[Forecasting]\n    B --&gt; C[Optimization]\n    D[Fleet State] --&gt; C\n    E[Constraints] --&gt; C\n    C --&gt; F[Allocation Plan]\n    F --&gt; G[KPIs &amp; Explanations]</code></pre>"},{"location":"#key-capabilities","title":"Key Capabilities","text":"Capability Description Phase Demand Forecasting Multi-location time-series with XGBoost/Prophet MVP Fleet Optimization Min-cost flow + MILP cascading optimization MVP Risk Prediction Asset failure and violation prediction Phase 2 Contract Intelligence NLP extraction from contract PDFs Phase 3 Explainability SHAP analysis and cost drivers Phase 2"},{"location":"#quick-start","title":"Quick Start","text":"InstallationAPI UsageConfiguration <pre><code># Clone the repository\ngit clone https://github.com/yourusername/fleet-cascade.git\ncd fleet-cascade\n\n# Install dependencies\nuv sync\n\n# Run the API\nmake run\n</code></pre> <pre><code>import httpx\n\nresponse = httpx.post(\n    \"http://localhost:8000/api/v1/optimize\",\n    json={\n        \"demand_forecast\": {...},\n        \"fleet_state\": {...},\n        \"constraints\": {...}\n    }\n)\nresult = response.json()\n</code></pre> <pre><code># config/config.yaml\nforecasting:\n  model: \"xgboost\"\n  horizon_days: 7\n\noptimization:\n  solver: \"ortools\"\n  constraints:\n    max_distance: 100\n</code></pre>"},{"location":"#who-is-this-for","title":"Who Is This For?","text":"Business Stakeholders Understand fleet optimization outcomes, KPIs, and business impact through intuitive dashboards and reports. Developers Build and extend the platform with our modular, well-documented codebase and API. Operations Teams Deploy, monitor, and maintain the platform in production environments. Data Scientists Experiment with forecasting models, optimization algorithms, and feature engineering."},{"location":"#architecture-at-a-glance","title":"Architecture at a Glance","text":"<pre><code>graph TB\n    subgraph Data[\"Data Layer\"]\n        NYC[NYC Taxi Data]\n        NASA[NASA Turbofan]\n        SIM[Simulated Fleet]\n    end\n\n    subgraph ML[\"ML Layer\"]\n        FORE[Demand Forecasting]\n        RISK[Risk Scoring]\n    end\n\n    subgraph OPT[\"Optimization\"]\n        CASCADE[Cascading Optimizer]\n    end\n\n    subgraph API[\"API Layer\"]\n        FAST[FastAPI]\n    end\n\n    Data --&gt; ML\n    ML --&gt; OPT\n    OPT --&gt; API</code></pre>"},{"location":"#project-status","title":"Project Status","text":"<p>Current Phase: MVP (Phase 1)</p> <p>The platform is currently in MVP development, focusing on:</p> <ul> <li> Project structure and configuration</li> <li> Data ingestion pipeline</li> <li> XGBoost demand forecasting</li> <li> Min-cost flow optimization</li> <li> Basic API endpoints</li> <li> Integration testing</li> </ul>"},{"location":"#getting-help","title":"Getting Help","text":"<ul> <li> Documentation - Comprehensive guides and references</li> <li> GitHub Issues - Bug reports and feature requests</li> <li> Contact - Direct support</li> </ul> <ul> <li> <p> Open Source</p> <p>Licensed under MIT. Free to use, modify, and distribute.</p> </li> <li> <p> Actively Maintained</p> <p>Regular updates and improvements based on community feedback.</p> </li> </ul>"},{"location":"api/","title":"API Reference","text":"<p>Complete reference for the Fleet Decision Platform REST API.</p>"},{"location":"api/#overview","title":"Overview","text":"<p>The API provides programmatic access to all platform capabilities:</p> <ul> <li>Demand forecasting</li> <li>Fleet optimization</li> <li>Risk assessment</li> <li>Configuration management</li> </ul> <p>Base URL: <code>http://localhost:8000</code></p> <p>Documentation: Interactive docs at <code>/docs</code> (Swagger UI) and <code>/redoc</code> (ReDoc)</p>"},{"location":"api/#authentication","title":"Authentication","text":"<p>MVP: No Authentication</p> <p>The MVP version does not require authentication. Production deployments should implement API key or JWT authentication.</p>"},{"location":"api/#quick-start","title":"Quick Start","text":"cURLPythonJavaScript <pre><code># Health check\ncurl http://localhost:8000/health\n\n# Get configuration\ncurl http://localhost:8000/api/v1/config\n</code></pre> <pre><code>import httpx\n\nclient = httpx.Client(base_url=\"http://localhost:8000\")\n\n# Health check\nresponse = client.get(\"/health\")\nprint(response.json())\n\n# Get configuration\nresponse = client.get(\"/api/v1/config\")\nprint(response.json())\n</code></pre> <pre><code>// Health check\nconst response = await fetch('http://localhost:8000/health');\nconst data = await response.json();\nconsole.log(data);\n</code></pre>"},{"location":"api/#api-sections","title":"API Sections","text":"<ul> <li> <p> Endpoints</p> <p>Complete list of all API endpoints.</p> <p> View Endpoints</p> </li> <li> <p> Request/Response Models</p> <p>Data schemas for API requests and responses.</p> <p> View Models</p> </li> <li> <p> Examples</p> <p>Practical examples for common use cases.</p> <p> View Examples</p> </li> </ul>"},{"location":"api/#response-format","title":"Response Format","text":"<p>All API responses follow a consistent format:</p>"},{"location":"api/#success-response","title":"Success Response","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    // Response data here\n  },\n  \"metadata\": {\n    \"timestamp\": \"2024-01-15T10:30:00Z\",\n    \"version\": \"0.1.0\",\n    \"request_id\": \"req_abc123\"\n  }\n}\n</code></pre>"},{"location":"api/#error-response","title":"Error Response","text":"<pre><code>{\n  \"status\": \"error\",\n  \"data\": null,\n  \"errors\": [\n    {\n      \"code\": \"VALIDATION_ERROR\",\n      \"message\": \"Invalid input\",\n      \"field\": \"demand_forecast\",\n      \"detail\": \"demand_forecast is required\"\n    }\n  ],\n  \"metadata\": {\n    \"timestamp\": \"2024-01-15T10:30:00Z\",\n    \"version\": \"0.1.0\",\n    \"request_id\": \"req_abc123\"\n  }\n}\n</code></pre>"},{"location":"api/#http-status-codes","title":"HTTP Status Codes","text":"Code Description 200 Success 201 Created 400 Bad Request - Invalid input 401 Unauthorized - Authentication required 403 Forbidden - Insufficient permissions 404 Not Found - Resource doesn't exist 422 Unprocessable Entity - Validation error 500 Internal Server Error 503 Service Unavailable"},{"location":"api/#rate-limiting","title":"Rate Limiting","text":"<p>MVP: No Rate Limiting</p> <p>Rate limiting will be implemented in Phase 2 using Redis.</p> <p>Future rate limits:</p> Tier Requests/Minute Default 60 Premium 300 Enterprise Unlimited"},{"location":"api/#versioning","title":"Versioning","text":"<p>The API uses URL versioning:</p> <ul> <li>Current: <code>/api/v1/</code></li> <li>Future: <code>/api/v2/</code> (when breaking changes are needed)</li> </ul>"},{"location":"api/#sdks-and-libraries","title":"SDKs and Libraries","text":"<p>Coming Soon</p> <p>Official SDKs for Python, JavaScript, and Go are planned for Phase 4.</p>"},{"location":"api/#next-steps","title":"Next Steps","text":"<ul> <li>Endpoints - Detailed endpoint reference</li> <li>Models - Request/response schemas</li> <li>Examples - Usage examples</li> </ul>"},{"location":"api/endpoints/","title":"API Endpoints","text":"<p>Complete reference for all REST API endpoints.</p>"},{"location":"api/endpoints/#health-status","title":"Health &amp; Status","text":""},{"location":"api/endpoints/#get-health","title":"GET /health","text":"<p>Health check endpoint.</p> <p>Response:</p> <pre><code>{\n  \"status\": \"healthy\"\n}\n</code></pre>"},{"location":"api/endpoints/#get","title":"GET /","text":"<p>Root endpoint with service information.</p> <p>Response:</p> <pre><code>{\n  \"name\": \"Fleet Decision Platform\",\n  \"version\": \"0.1.0\",\n  \"status\": \"running\",\n  \"docs\": \"/docs\"\n}\n</code></pre>"},{"location":"api/endpoints/#configuration","title":"Configuration","text":""},{"location":"api/endpoints/#get-apiv1config","title":"GET /api/v1/config","text":"<p>Get current platform configuration (non-sensitive values).</p> <p>Response:</p> <pre><code>{\n  \"forecasting\": {\n    \"model\": \"xgboost\",\n    \"horizon_days\": 7\n  },\n  \"optimization\": {\n    \"solver\": \"ortools\",\n    \"stages\": [\"min_cost_flow\"]\n  },\n  \"features\": {\n    \"enable_caching\": true,\n    \"enable_risk_scoring\": true\n  }\n}\n</code></pre>"},{"location":"api/endpoints/#optimization","title":"Optimization","text":""},{"location":"api/endpoints/#post-apiv1optimize","title":"POST /api/v1/optimize","text":"<p>Run the optimization pipeline.</p> <p>Request Body:</p> <pre><code>{\n  \"demand_forecast\": {\n    \"1\": [15, 18, 22, 25],\n    \"2\": [10, 12, 14, 16],\n    \"3\": [8, 9, 11, 13]\n  },\n  \"fleet_state\": {\n    \"vehicles\": [\n      {\n        \"id\": \"V001\",\n        \"location\": 1,\n        \"capacity\": 1,\n        \"status\": \"operational\"\n      }\n    ]\n  },\n  \"constraints\": {\n    \"max_distance\": 100,\n    \"min_service_level\": 0.95\n  }\n}\n</code></pre> <p>Response:</p> <pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"allocation_plan\": [\n      {\n        \"vehicle_id\": \"V001\",\n        \"source_location\": 1,\n        \"target_location\": 2,\n        \"cost\": 15.5,\n        \"assignment\": \"rebalance\"\n      }\n    ],\n    \"total_cost\": 245.50,\n    \"kpis\": {\n      \"demand_coverage\": 0.96,\n      \"utilization\": 0.78,\n      \"rebalanced_count\": 12\n    },\n    \"solver_status\": \"optimal\"\n  },\n  \"metadata\": {\n    \"timestamp\": \"2024-01-15T10:30:00Z\",\n    \"solve_time_ms\": 1250\n  }\n}\n</code></pre> <p>Status Codes:</p> Code Description 200 Optimization successful 400 Invalid input data 422 Infeasible constraints 500 Optimization failed"},{"location":"api/endpoints/#forecasting","title":"Forecasting","text":""},{"location":"api/endpoints/#post-apiv1forecast","title":"POST /api/v1/forecast","text":"<p>Generate demand forecasts.</p> <p>Request Body:</p> <pre><code>{\n  \"location_ids\": [1, 2, 3],\n  \"horizon_hours\": 168,\n  \"features\": {\n    \"start_date\": \"2024-01-15\",\n    \"include_intervals\": false\n  }\n}\n</code></pre> <p>Response:</p> <pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"forecasts\": {\n      \"1\": [15, 18, 22, 25, 28, 24, 20],\n      \"2\": [10, 12, 14, 16, 18, 15, 12],\n      \"3\": [8, 9, 11, 13, 15, 12, 10]\n    },\n    \"metadata\": {\n      \"model\": \"xgboost\",\n      \"horizon_hours\": 168,\n      \"generated_at\": \"2024-01-15T10:30:00Z\"\n    }\n  }\n}\n</code></pre>"},{"location":"api/endpoints/#risk-assessment","title":"Risk Assessment","text":""},{"location":"api/endpoints/#post-apiv1riskscore","title":"POST /api/v1/risk/score","text":"<p>Calculate risk scores for fleet vehicles.</p> <p>Request Body:</p> <pre><code>{\n  \"vehicles\": [\n    {\n      \"id\": \"V001\",\n      \"age_days\": 365,\n      \"utilization_rate\": 0.75,\n      \"days_since_maintenance\": 14\n    }\n  ]\n}\n</code></pre> <p>Response:</p> <pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"risk_scores\": [\n      {\n        \"vehicle_id\": \"V001\",\n        \"risk_score\": 0.45,\n        \"risk_category\": \"medium\",\n        \"factors\": {\n          \"age_contribution\": 0.15,\n          \"utilization_contribution\": 0.20,\n          \"maintenance_contribution\": 0.10\n        }\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"api/endpoints/#data-management","title":"Data Management","text":""},{"location":"api/endpoints/#get-apiv1datalocations","title":"GET /api/v1/data/locations","text":"<p>Get location metadata.</p> <p>Response:</p> <pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"locations\": [\n      {\n        \"id\": 1,\n        \"name\": \"Manhattan-Midtown\",\n        \"latitude\": 40.7580,\n        \"longitude\": -73.9855\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"api/endpoints/#get-apiv1datafleet","title":"GET /api/v1/data/fleet","text":"<p>Get current fleet state.</p> <p>Response:</p> <pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"fleet\": [\n      {\n        \"vehicle_id\": \"V001\",\n        \"location_id\": 1,\n        \"status\": \"operational\",\n        \"capacity\": 1\n      }\n    ],\n    \"summary\": {\n      \"total_vehicles\": 50,\n      \"operational\": 43,\n      \"maintenance\": 5,\n      \"downtime\": 2\n    }\n  }\n}\n</code></pre>"},{"location":"api/endpoints/#websocket-phase-3","title":"WebSocket (Phase 3+)","text":""},{"location":"api/endpoints/#ws-wsoptimization","title":"WS /ws/optimization","text":"<p>Real-time optimization updates.</p> <p>Message Types:</p> <pre><code>// Subscribe to optimization job\n{\"type\": \"subscribe\", \"job_id\": \"opt_123\"}\n\n// Progress update\n{\"type\": \"progress\", \"job_id\": \"opt_123\", \"progress\": 0.75}\n\n// Completion\n{\"type\": \"complete\", \"job_id\": \"opt_123\", \"result\": {...}}\n</code></pre>"},{"location":"api/endpoints/#error-codes","title":"Error Codes","text":"Code Description <code>VALIDATION_ERROR</code> Invalid request data <code>RESOURCE_NOT_FOUND</code> Requested resource doesn't exist <code>INFEASIBLE_PROBLEM</code> Optimization constraints infeasible <code>SOLVER_ERROR</code> Optimization solver failed <code>MODEL_NOT_LOADED</code> ML model not available <code>INTERNAL_ERROR</code> Unexpected server error"},{"location":"api/endpoints/#next-steps","title":"Next Steps","text":"<ul> <li>Request/Response Models - Data schemas</li> <li>Examples - Usage examples</li> </ul>"},{"location":"api/examples/","title":"API Examples","text":"<p>Practical examples for common API use cases.</p>"},{"location":"api/examples/#basic-examples","title":"Basic Examples","text":""},{"location":"api/examples/#health-check","title":"Health Check","text":"cURLPythonJavaScript <pre><code>curl -s http://localhost:8000/health | jq\n</code></pre> <pre><code>import httpx\n\nresponse = httpx.get(\"http://localhost:8000/health\")\nprint(response.json())\n# {\"status\": \"healthy\"}\n</code></pre> <pre><code>const response = await fetch('http://localhost:8000/health');\nconst data = await response.json();\nconsole.log(data);\n</code></pre>"},{"location":"api/examples/#optimization-examples","title":"Optimization Examples","text":""},{"location":"api/examples/#simple-optimization","title":"Simple Optimization","text":"<p>Run basic fleet optimization:</p> cURLPython <pre><code>curl -X POST http://localhost:8000/api/v1/optimize \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"demand_forecast\": {\n      \"1\": [20, 25, 30, 35, 30, 25, 20],\n      \"2\": [15, 18, 22, 25, 22, 18, 15],\n      \"3\": [10, 12, 15, 18, 15, 12, 10]\n    },\n    \"fleet_state\": {\n      \"vehicles\": [\n        {\"id\": \"V001\", \"location\": 1, \"capacity\": 1},\n        {\"id\": \"V002\", \"location\": 1, \"capacity\": 1},\n        {\"id\": \"V003\", \"location\": 2, \"capacity\": 1},\n        {\"id\": \"V004\", \"location\": 3, \"capacity\": 1},\n        {\"id\": \"V005\", \"location\": 3, \"capacity\": 1}\n      ]\n    },\n    \"constraints\": {\n      \"max_distance\": 50,\n      \"min_service_level\": 0.90\n    }\n  }' | jq\n</code></pre> <pre><code>import httpx\n\nrequest_data = {\n    \"demand_forecast\": {\n        \"1\": [20, 25, 30, 35, 30, 25, 20],\n        \"2\": [15, 18, 22, 25, 22, 18, 15],\n        \"3\": [10, 12, 15, 18, 15, 12, 10]\n    },\n    \"fleet_state\": {\n        \"vehicles\": [\n            {\"id\": \"V001\", \"location\": 1, \"capacity\": 1},\n            {\"id\": \"V002\", \"location\": 1, \"capacity\": 1},\n            {\"id\": \"V003\", \"location\": 2, \"capacity\": 1},\n            {\"id\": \"V004\", \"location\": 3, \"capacity\": 1},\n            {\"id\": \"V005\", \"location\": 3, \"capacity\": 1}\n        ]\n    },\n    \"constraints\": {\n        \"max_distance\": 50,\n        \"min_service_level\": 0.90\n    }\n}\n\nresponse = httpx.post(\n    \"http://localhost:8000/api/v1/optimize\",\n    json=request_data\n)\n\nresult = response.json()\nprint(f\"Total Cost: ${result['data']['total_cost']:,.2f}\")\nprint(f\"Demand Coverage: {result['data']['kpis']['demand_coverage']:.1%}\")\n</code></pre>"},{"location":"api/examples/#process-optimization-results","title":"Process Optimization Results","text":"<pre><code>import pandas as pd\n\n# Parse allocation plan\nallocation_df = pd.DataFrame(result['data']['allocation_plan'])\n\n# Filter rebalancing moves\nrebalance_moves = allocation_df[allocation_df['assignment'] == 'rebalance']\nprint(f\"\\nVehicles to rebalance: {len(rebalance_moves)}\")\nprint(rebalance_moves[['vehicle_id', 'source_location', 'target_location', 'cost']])\n\n# Summarize by location\nlocation_changes = allocation_df.groupby('target_location').size()\nprint(f\"\\nVehicles by target location:\\n{location_changes}\")\n</code></pre>"},{"location":"api/examples/#forecasting-examples","title":"Forecasting Examples","text":""},{"location":"api/examples/#generate-7-day-forecast","title":"Generate 7-Day Forecast","text":"cURLPython <pre><code>curl -X POST http://localhost:8000/api/v1/forecast \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"location_ids\": [1, 2, 3],\n    \"horizon_hours\": 168,\n    \"features\": {\n      \"start_date\": \"2024-01-15\",\n      \"include_intervals\": false\n    }\n  }' | jq\n</code></pre> <pre><code>import httpx\nimport numpy as np\n\nrequest_data = {\n    \"location_ids\": [1, 2, 3],\n    \"horizon_hours\": 168,\n    \"features\": {\n        \"start_date\": \"2024-01-15\",\n        \"include_intervals\": False\n    }\n}\n\nresponse = httpx.post(\n    \"http://localhost:8000/api/v1/forecast\",\n    json=request_data\n)\n\nresult = response.json()\n\n# Analyze forecasts\nfor location_id, forecast in result['data']['forecasts'].items():\n    forecast_arr = np.array(forecast)\n    print(f\"\\nLocation {location_id}:\")\n    print(f\"  Mean demand: {forecast_arr.mean():.1f}\")\n    print(f\"  Max demand: {forecast_arr.max():.1f}\")\n    print(f\"  Peak hour: {forecast_arr.argmax()}\")\n</code></pre>"},{"location":"api/examples/#risk-assessment-examples","title":"Risk Assessment Examples","text":""},{"location":"api/examples/#calculate-fleet-risk","title":"Calculate Fleet Risk","text":"Python <pre><code>import httpx\n\nvehicles = [\n    {\"id\": \"V001\", \"age_days\": 180, \"utilization_rate\": 0.65, \"days_since_maintenance\": 5},\n    {\"id\": \"V002\", \"age_days\": 900, \"utilization_rate\": 0.92, \"days_since_maintenance\": 28},\n    {\"id\": \"V003\", \"age_days\": 450, \"utilization_rate\": 0.78, \"days_since_maintenance\": 14},\n]\n\nresponse = httpx.post(\n    \"http://localhost:8000/api/v1/risk/score\",\n    json={\"vehicles\": vehicles}\n)\n\nresult = response.json()\n\n# Find high-risk vehicles\nhigh_risk = [\n    v for v in result['data']['risk_scores']\n    if v['risk_category'] == 'high'\n]\n\nprint(f\"High-risk vehicles: {len(high_risk)}\")\nfor v in high_risk:\n    print(f\"  {v['vehicle_id']}: score={v['risk_score']:.2f}\")\n</code></pre>"},{"location":"api/examples/#end-to-end-workflow","title":"End-to-End Workflow","text":""},{"location":"api/examples/#complete-pipeline","title":"Complete Pipeline","text":"<pre><code>import httpx\n\nBASE_URL = \"http://localhost:8000\"\nclient = httpx.Client(base_url=BASE_URL, timeout=60.0)\n\n# Step 1: Get current fleet state\nfleet_response = client.get(\"/api/v1/data/fleet\")\nfleet_data = fleet_response.json()['data']\nprint(f\"Fleet size: {fleet_data['summary']['total_vehicles']}\")\n\n# Step 2: Generate forecasts\nforecast_response = client.post(\n    \"/api/v1/forecast\",\n    json={\n        \"location_ids\": [1, 2, 3, 4, 5],\n        \"horizon_hours\": 24  # Next 24 hours\n    }\n)\nforecasts = forecast_response.json()['data']['forecasts']\nprint(f\"Generated forecasts for {len(forecasts)} locations\")\n\n# Step 3: Calculate risk scores\nvehicles_for_risk = [\n    {\n        \"id\": v['vehicle_id'],\n        \"age_days\": 365,  # Would come from actual data\n        \"utilization_rate\": 0.75,\n        \"days_since_maintenance\": 10\n    }\n    for v in fleet_data['fleet'][:10]  # First 10 vehicles\n]\n\nrisk_response = client.post(\n    \"/api/v1/risk/score\",\n    json={\"vehicles\": vehicles_for_risk}\n)\nrisk_scores = risk_response.json()['data']['risk_scores']\nprint(f\"Calculated risk for {len(risk_scores)} vehicles\")\n\n# Step 4: Run optimization\noptimization_response = client.post(\n    \"/api/v1/optimize\",\n    json={\n        \"demand_forecast\": forecasts,\n        \"fleet_state\": {\"vehicles\": fleet_data['fleet']},\n        \"constraints\": {\n            \"max_distance\": 100,\n            \"min_service_level\": 0.95\n        }\n    }\n)\n\nresult = optimization_response.json()['data']\nprint(f\"\\n=== Optimization Results ===\")\nprint(f\"Total Cost: ${result['total_cost']:,.2f}\")\nprint(f\"Demand Coverage: {result['kpis']['demand_coverage']:.1%}\")\nprint(f\"Vehicles Rebalanced: {result['kpis']['rebalanced_count']}\")\n\n# Step 5: Export results\nimport json\nwith open(\"optimization_result.json\", \"w\") as f:\n    json.dump(result, f, indent=2)\nprint(\"\\nResults saved to optimization_result.json\")\n</code></pre>"},{"location":"api/examples/#error-handling","title":"Error Handling","text":""},{"location":"api/examples/#handle-api-errors","title":"Handle API Errors","text":"<pre><code>import httpx\nfrom httpx import HTTPStatusError\n\ndef run_optimization(request_data):\n    try:\n        response = httpx.post(\n            \"http://localhost:8000/api/v1/optimize\",\n            json=request_data,\n            timeout=60.0\n        )\n        response.raise_for_status()\n        return response.json()\n\n    except HTTPStatusError as e:\n        if e.response.status_code == 422:\n            errors = e.response.json().get('errors', [])\n            for error in errors:\n                print(f\"Validation error: {error['message']}\")\n                if error.get('field'):\n                    print(f\"  Field: {error['field']}\")\n        else:\n            print(f\"API error: {e.response.status_code}\")\n        return None\n\n    except httpx.TimeoutException:\n        print(\"Request timed out\")\n        return None\n</code></pre>"},{"location":"api/examples/#async-examples","title":"Async Examples","text":""},{"location":"api/examples/#async-python-client","title":"Async Python Client","text":"<pre><code>import asyncio\nimport httpx\n\nasync def run_optimizations(scenarios):\n    async with httpx.AsyncClient(base_url=\"http://localhost:8000\") as client:\n        tasks = [\n            client.post(\"/api/v1/optimize\", json=scenario)\n            for scenario in scenarios\n        ]\n        responses = await asyncio.gather(*tasks)\n        return [r.json() for r in responses]\n\n# Run multiple scenarios in parallel\nscenarios = [\n    {\"demand_forecast\": {...}, \"fleet_state\": {...}, \"constraints\": {...}},\n    {\"demand_forecast\": {...}, \"fleet_state\": {...}, \"constraints\": {...}},\n]\n\nresults = asyncio.run(run_optimizations(scenarios))\n</code></pre>"},{"location":"api/examples/#next-steps","title":"Next Steps","text":"<ul> <li>Endpoints - Complete endpoint reference</li> <li>Models - Request/response schemas</li> <li>User Guide - Detailed usage guides</li> </ul>"},{"location":"api/models/","title":"Request/Response Models","text":"<p>Pydantic schemas for API data validation.</p>"},{"location":"api/models/#common-models","title":"Common Models","text":""},{"location":"api/models/#baseresponse","title":"BaseResponse","text":"<p>All API responses extend this base model:</p> <pre><code>class BaseResponse(BaseModel):\n    status: Literal[\"success\", \"error\"]\n    data: Optional[Any] = None\n    errors: Optional[List[ErrorDetail]] = None\n    metadata: ResponseMetadata\n</code></pre>"},{"location":"api/models/#errordetail","title":"ErrorDetail","text":"<pre><code>class ErrorDetail(BaseModel):\n    code: str           # Error code (e.g., \"VALIDATION_ERROR\")\n    message: str        # Human-readable message\n    field: Optional[str] = None  # Field that caused error\n    detail: Optional[str] = None # Additional details\n</code></pre>"},{"location":"api/models/#responsemetadata","title":"ResponseMetadata","text":"<pre><code>class ResponseMetadata(BaseModel):\n    timestamp: datetime\n    version: str = \"0.1.0\"\n    request_id: Optional[str] = None\n</code></pre>"},{"location":"api/models/#optimization-models","title":"Optimization Models","text":""},{"location":"api/models/#optimizationrequest","title":"OptimizationRequest","text":"<pre><code>class OptimizationRequest(BaseModel):\n    demand_forecast: Dict[str, List[float]]\n    fleet_state: FleetState\n    constraints: OptimizationConstraints\n    options: Optional[OptimizationOptions] = None\n\n    class Config:\n        json_schema_extra = {\n            \"example\": {\n                \"demand_forecast\": {\n                    \"1\": [15, 18, 22, 25],\n                    \"2\": [10, 12, 14, 16]\n                },\n                \"fleet_state\": {\n                    \"vehicles\": [\n                        {\"id\": \"V001\", \"location\": 1, \"capacity\": 1}\n                    ]\n                },\n                \"constraints\": {\n                    \"max_distance\": 100,\n                    \"min_service_level\": 0.95\n                }\n            }\n        }\n</code></pre>"},{"location":"api/models/#fleetstate","title":"FleetState","text":"<pre><code>class Vehicle(BaseModel):\n    id: str\n    location: int\n    capacity: int = 1\n    status: Literal[\"operational\", \"maintenance\", \"downtime\"] = \"operational\"\n\nclass FleetState(BaseModel):\n    vehicles: List[Vehicle]\n</code></pre>"},{"location":"api/models/#optimizationconstraints","title":"OptimizationConstraints","text":"<pre><code>class OptimizationConstraints(BaseModel):\n    max_distance: float = 100.0\n    min_service_level: float = 0.95\n    max_rebalancing_cost: Optional[float] = None\n    capacity_per_vehicle: int = 1\n</code></pre>"},{"location":"api/models/#optimizationresponse","title":"OptimizationResponse","text":"<pre><code>class AllocationItem(BaseModel):\n    vehicle_id: str\n    source_location: int\n    target_location: int\n    cost: float\n    assignment: Literal[\"stay\", \"rebalance\", \"maintenance\"]\n\nclass OptimizationKPIs(BaseModel):\n    demand_coverage: float\n    utilization: float\n    rebalanced_count: int\n    total_distance: float\n\nclass OptimizationResult(BaseModel):\n    allocation_plan: List[AllocationItem]\n    total_cost: float\n    kpis: OptimizationKPIs\n    solver_status: str\n\nclass OptimizationResponse(BaseResponse):\n    data: Optional[OptimizationResult] = None\n</code></pre>"},{"location":"api/models/#forecasting-models","title":"Forecasting Models","text":""},{"location":"api/models/#forecastrequest","title":"ForecastRequest","text":"<pre><code>class ForecastRequest(BaseModel):\n    location_ids: List[int]\n    horizon_hours: int = 168  # 7 days\n    features: Optional[ForecastFeatures] = None\n\nclass ForecastFeatures(BaseModel):\n    start_date: Optional[date] = None\n    include_intervals: bool = False\n    confidence_level: float = 0.95\n</code></pre>"},{"location":"api/models/#forecastresponse","title":"ForecastResponse","text":"<pre><code>class ForecastMetadata(BaseModel):\n    model: str\n    horizon_hours: int\n    generated_at: datetime\n\nclass ForecastResult(BaseModel):\n    forecasts: Dict[str, List[float]]\n    intervals: Optional[Dict[str, Dict[str, List[float]]]] = None\n    metadata: ForecastMetadata\n\nclass ForecastResponse(BaseResponse):\n    data: Optional[ForecastResult] = None\n</code></pre>"},{"location":"api/models/#risk-models","title":"Risk Models","text":""},{"location":"api/models/#riskscorerequest","title":"RiskScoreRequest","text":"<pre><code>class VehicleRiskInput(BaseModel):\n    id: str\n    age_days: int\n    utilization_rate: float\n    days_since_maintenance: int\n\nclass RiskScoreRequest(BaseModel):\n    vehicles: List[VehicleRiskInput]\n</code></pre>"},{"location":"api/models/#riskscoreresponse","title":"RiskScoreResponse","text":"<pre><code>class RiskFactors(BaseModel):\n    age_contribution: float\n    utilization_contribution: float\n    maintenance_contribution: float\n\nclass VehicleRiskScore(BaseModel):\n    vehicle_id: str\n    risk_score: float\n    risk_category: Literal[\"low\", \"medium\", \"high\"]\n    factors: RiskFactors\n\nclass RiskScoreResult(BaseModel):\n    risk_scores: List[VehicleRiskScore]\n\nclass RiskScoreResponse(BaseResponse):\n    data: Optional[RiskScoreResult] = None\n</code></pre>"},{"location":"api/models/#data-models","title":"Data Models","text":""},{"location":"api/models/#locationmodel","title":"LocationModel","text":"<pre><code>class Location(BaseModel):\n    id: int\n    name: str\n    latitude: float\n    longitude: float\n    avg_demand: Optional[float] = None\n    max_capacity: Optional[int] = None\n</code></pre>"},{"location":"api/models/#fleetsummary","title":"FleetSummary","text":"<pre><code>class FleetSummary(BaseModel):\n    total_vehicles: int\n    operational: int\n    maintenance: int\n    downtime: int\n    avg_utilization: float\n    avg_risk_score: float\n</code></pre>"},{"location":"api/models/#validation-rules","title":"Validation Rules","text":""},{"location":"api/models/#demand-forecast","title":"Demand Forecast","text":"<pre><code>@validator('demand_forecast')\ndef validate_demand(cls, v):\n    for location_id, values in v.items():\n        if not all(x &gt;= 0 for x in values):\n            raise ValueError(f\"Demand values must be non-negative\")\n        if len(values) == 0:\n            raise ValueError(f\"Demand array cannot be empty\")\n    return v\n</code></pre>"},{"location":"api/models/#constraints","title":"Constraints","text":"<pre><code>@validator('min_service_level')\ndef validate_service_level(cls, v):\n    if not 0 &lt;= v &lt;= 1:\n        raise ValueError(\"Service level must be between 0 and 1\")\n    return v\n\n@validator('max_distance')\ndef validate_distance(cls, v):\n    if v &lt;= 0:\n        raise ValueError(\"Max distance must be positive\")\n    return v\n</code></pre>"},{"location":"api/models/#openapi-schema","title":"OpenAPI Schema","text":"<p>The full OpenAPI schema is available at:</p> <ul> <li>Swagger UI: <code>http://localhost:8000/docs</code></li> <li>ReDoc: <code>http://localhost:8000/redoc</code></li> <li>JSON Schema: <code>http://localhost:8000/openapi.json</code></li> </ul>"},{"location":"api/models/#next-steps","title":"Next Steps","text":"<ul> <li>Endpoints - API endpoint reference</li> <li>Examples - Usage examples</li> </ul>"},{"location":"architecture/","title":"Architecture Overview","text":"<p>The Fleet Decision Platform follows a modular, pipeline-based architecture designed for scalability and maintainability.</p>"},{"location":"architecture/#design-principles","title":"Design Principles","text":"Principle Description Modular Each capability is a separate, replaceable module Config-Driven All parameters externalized to YAML/JSON Pipeline-Based Clear data flow between stages API-First Everything accessible via REST API Explainable Transparency at every decision point"},{"location":"architecture/#high-level-architecture","title":"High-Level Architecture","text":"<pre><code>graph TB\n    subgraph External[\"External Data\"]\n        NYC[NYC Taxi Data]\n        NASA[NASA Turbofan]\n    end\n\n    subgraph DataLayer[\"Data Layer\"]\n        RAW[(Raw Data)]\n        PROC[(Processed)]\n    end\n\n    subgraph MLLayer[\"ML Layer\"]\n        FORE[Forecasting]\n        RISK[Risk Scoring]\n    end\n\n    subgraph OptLayer[\"Optimization Layer\"]\n        CONST[Constraints]\n        OPT[Optimizer]\n    end\n\n    subgraph APILayer[\"API Layer\"]\n        API[FastAPI]\n        DOCS[Documentation]\n    end\n\n    External --&gt; DataLayer\n    DataLayer --&gt; MLLayer\n    MLLayer --&gt; OptLayer\n    CONST --&gt; OptLayer\n    OptLayer --&gt; APILayer</code></pre>"},{"location":"architecture/#layer-details","title":"Layer Details","text":"<ul> <li> <p> Data Layer</p> <p>Handles data ingestion, preprocessing, and storage.</p> <p> Data Flow</p> </li> <li> <p> ML Layer</p> <p>Demand forecasting and risk prediction models.</p> <p> Module Design</p> </li> <li> <p> Optimization Layer</p> <p>Cascading optimization with constraints.</p> <p> System Overview</p> </li> <li> <p> API Layer</p> <p>REST API endpoints and documentation.</p> <p> API Reference</p> </li> </ul>"},{"location":"architecture/#technology-stack","title":"Technology Stack","text":"Layer Technologies Language Python 3.9+ ML XGBoost, scikit-learn, (Prophet, PyTorch) Optimization OR-Tools, (PuLP) API FastAPI, Pydantic, Uvicorn Data Pandas, NumPy, PyArrow/Parquet Database PostgreSQL, Redis, (Pinecone) Documentation MkDocs Material"},{"location":"architecture/#phased-implementation","title":"Phased Implementation","text":"<pre><code>timeline\n    title Development Roadmap\n\n    Phase 1 : MVP\n             : XGBoost forecasting\n             : Min-cost flow optimization\n             : Basic API\n\n    Phase 2 : Enhanced ML\n             : Hierarchical forecasting\n             : Risk classification\n             : SHAP explainability\n\n    Phase 3 : Contract Intelligence\n             : OCR/NLP extraction\n             : Constraint registry\n             : RAG search\n\n    Phase 4 : Production\n             : MILP refinement\n             : Survival analysis\n             : Full deployment</code></pre>"},{"location":"architecture/#next-steps","title":"Next Steps","text":"<ul> <li>System Overview - Detailed component descriptions</li> <li>Data Flow - How data moves through the system</li> <li>Module Design - Individual module architecture</li> </ul>"},{"location":"architecture/data-flow/","title":"Data Flow","text":"<p>How data moves through the Fleet Decision Platform from ingestion to output.</p>"},{"location":"architecture/data-flow/#end-to-end-data-pipeline","title":"End-to-End Data Pipeline","text":"<pre><code>flowchart LR\n    subgraph Sources[\"Data Sources\"]\n        NYC[NYC Taxi API/Files]\n        NASA[NASA Dataset]\n        SIM[Simulation]\n    end\n\n    subgraph Ingestion[\"Ingestion Layer\"]\n        DOWNLOAD[Download]\n        PARSE[Parse/Clean]\n        VALIDATE[Validate]\n    end\n\n    subgraph Storage[\"Storage\"]\n        RAW[(Raw/Parquet)]\n        PROC[(Processed)]\n        MODEL[(Models)]\n    end\n\n    subgraph Transform[\"Transformation\"]\n        AGG[Aggregate]\n        FEAT[Feature Engineering]\n        SPLIT[Train/Test Split]\n    end\n\n    subgraph ML[\"ML Pipeline\"]\n        TRAIN[Training]\n        PREDICT[Prediction]\n        EVAL[Evaluation]\n    end\n\n    subgraph Output[\"Output\"]\n        ALLOC[Allocation Plan]\n        KPI[KPIs]\n        EXPLAIN[Explanations]\n    end\n\n    Sources --&gt; Ingestion\n    Ingestion --&gt; RAW\n    RAW --&gt; Transform\n    Transform --&gt; PROC\n    PROC --&gt; ML\n    ML --&gt; MODEL\n    MODEL --&gt; Output</code></pre>"},{"location":"architecture/data-flow/#data-formats","title":"Data Formats","text":""},{"location":"architecture/data-flow/#raw-data","title":"Raw Data","text":"Source Format Location NYC Taxi CSV/Parquet <code>data/raw/nyc_taxi/</code> NASA Turbofan CSV <code>data/raw/nasa_turbofan/</code> Contracts PDF <code>data/raw/contracts/</code>"},{"location":"architecture/data-flow/#processed-data","title":"Processed Data","text":"Data Type Format Location Aggregated Demand Parquet <code>data/processed/demand/</code> Fleet State Parquet <code>data/processed/fleet_state/</code> Network Costs NumPy (.npy) <code>data/processed/network/</code> Features Parquet <code>data/processed/features/</code>"},{"location":"architecture/data-flow/#model-artifacts","title":"Model Artifacts","text":"Artifact Format Location XGBoost Model Pickle/JSON <code>data/models/demand_forecast/</code> Risk Model Pickle <code>data/models/risk_scoring/</code> Metadata JSON <code>data/models/*/metadata.json</code>"},{"location":"architecture/data-flow/#stage-by-stage-flow","title":"Stage-by-Stage Flow","text":""},{"location":"architecture/data-flow/#stage-1-data-ingestion","title":"Stage 1: Data Ingestion","text":"<pre><code>graph LR\n    A[External Source] --&gt;|Download| B[Raw Files]\n    B --&gt;|Parse| C[DataFrames]\n    C --&gt;|Validate| D[Clean Data]\n    D --&gt;|Save| E[(Parquet)]</code></pre> <p>Input: External APIs/files Output: Clean Parquet files in <code>data/raw/</code></p> <pre><code># Example: NYC Taxi ingestion\nfrom src.data.ingestion import DataIngestion\n\ningestion = DataIngestion(config)\nraw_data = ingestion.load_nyc_taxi()\n# Returns: DataFrame with columns [pickup_datetime, dropoff_datetime,\n#          pickup_location_id, dropoff_location_id, trip_distance, ...]\n</code></pre>"},{"location":"architecture/data-flow/#stage-2-feature-engineering","title":"Stage 2: Feature Engineering","text":"<pre><code>graph LR\n    A[(Raw Data)] --&gt;|Load| B[DataFrame]\n    B --&gt;|Time Features| C[hour, day, month]\n    B --&gt;|Lag Features| D[lag_1h, lag_24h]\n    B --&gt;|Aggregations| E[zone_demand]\n    C &amp; D &amp; E --&gt;|Combine| F[(Feature Matrix)]</code></pre> <p>Input: Raw data Parquet files Output: Feature matrix for ML</p> <pre><code># Example: Feature engineering\nfrom src.data.feature_engineering import FeatureEngineer\n\nengineer = FeatureEngineer(config)\nfeatures = engineer.create_features(raw_data)\n# Returns: DataFrame with columns [location_id, timestamp, hour,\n#          day_of_week, lag_1h, lag_24h, demand, ...]\n</code></pre>"},{"location":"architecture/data-flow/#stage-3-model-training","title":"Stage 3: Model Training","text":"<pre><code>graph LR\n    A[(Features)] --&gt;|Split| B[Train Set]\n    A --&gt;|Split| C[Test Set]\n    B --&gt;|Fit| D[Model]\n    D --&gt;|Evaluate| E[Metrics]\n    D --&gt;|Save| F[(Model Artifact)]</code></pre> <p>Input: Feature matrix Output: Trained model + metrics</p> <pre><code># Example: Model training\nfrom src.forecasting import ModelTrainer\n\ntrainer = ModelTrainer(config)\nmodel, metrics = trainer.train(features)\ntrainer.save(model, \"data/models/demand_forecast/\")\n# Metrics: {\"rmse\": 5.2, \"mae\": 3.8, \"mape\": 0.12}\n</code></pre>"},{"location":"architecture/data-flow/#stage-4-prediction","title":"Stage 4: Prediction","text":"<pre><code>graph LR\n    A[(New Features)] --&gt;|Load| B[Feature Vector]\n    C[(Trained Model)] --&gt;|Load| D[Model]\n    B &amp; D --&gt;|Predict| E[Forecasts]</code></pre> <p>Input: Features for forecast horizon Output: Demand forecasts per location</p> <pre><code># Example: Prediction\nfrom src.forecasting import DemandPredictor\n\npredictor = DemandPredictor(config)\npredictor.load_model(\"data/models/demand_forecast/\")\nforecasts = predictor.predict(features, horizon_days=7)\n# Returns: Dict[str, np.ndarray] - location_id -&gt; hourly forecasts\n</code></pre>"},{"location":"architecture/data-flow/#stage-5-optimization","title":"Stage 5: Optimization","text":"<pre><code>graph LR\n    A[Forecasts] --&gt; D[Optimizer]\n    B[Fleet State] --&gt; D\n    C[Constraints] --&gt; D\n    D --&gt;|Solve| E[Allocation Plan]\n    E --&gt;|Calculate| F[KPIs]</code></pre> <p>Input: Forecasts, fleet state, constraints Output: Allocation plan + KPIs</p> <pre><code># Example: Optimization\nfrom src.optimization import CascadingOptimizer\n\noptimizer = CascadingOptimizer(config)\nresult = optimizer.optimize(\n    demand_forecast=forecasts,\n    fleet_state=fleet_state,\n    network_costs=network_costs,\n    constraints=constraints\n)\n# Returns: OptimizationResult with allocation_plan, total_cost, kpis\n</code></pre>"},{"location":"architecture/data-flow/#data-validation","title":"Data Validation","text":"<p>Each stage includes validation:</p> <pre><code># Schema validation example\nfrom pydantic import BaseModel, validator\n\nclass DemandRecord(BaseModel):\n    location_id: int\n    timestamp: datetime\n    demand: float\n\n    @validator('demand')\n    def demand_must_be_positive(cls, v):\n        if v &lt; 0:\n            raise ValueError('demand must be non-negative')\n        return v\n</code></pre>"},{"location":"architecture/data-flow/#caching-strategy","title":"Caching Strategy","text":"<pre><code>graph TB\n    A[Request] --&gt;|Check| B{Cache Hit?}\n    B --&gt;|Yes| C[Return Cached]\n    B --&gt;|No| D[Compute]\n    D --&gt;|Store| E[(Cache)]\n    D --&gt; F[Return Result]</code></pre> <p>Caching is implemented at:</p> <ol> <li>Data layer: Processed data cached in Parquet</li> <li>Model layer: Model artifacts cached to disk</li> <li>API layer: Response caching with Redis (Phase 2+)</li> </ol>"},{"location":"architecture/data-flow/#next-steps","title":"Next Steps","text":"<ul> <li>Module Design - Detailed module architecture</li> <li>API Reference - API data formats</li> <li>Data Formats Reference - Complete schema docs</li> </ul>"},{"location":"architecture/modules/","title":"Module Design","text":"<p>Detailed design patterns and interfaces for each module.</p>"},{"location":"architecture/modules/#module-structure","title":"Module Structure","text":"<pre><code>src/\n\u251c\u2500\u2500 data/           # Data processing\n\u251c\u2500\u2500 forecasting/    # Demand forecasting\n\u251c\u2500\u2500 optimization/   # Optimization engine\n\u251c\u2500\u2500 risk/           # Risk prediction\n\u251c\u2500\u2500 contracts/      # Contract intelligence\n\u251c\u2500\u2500 explainability/ # Explainability\n\u251c\u2500\u2500 api/            # FastAPI application\n\u2514\u2500\u2500 utils/          # Shared utilities\n</code></pre>"},{"location":"architecture/modules/#design-patterns","title":"Design Patterns","text":""},{"location":"architecture/modules/#base-model-pattern","title":"Base Model Pattern","text":"<p>All ML models implement a common interface:</p> src/forecasting/models/base.py<pre><code>from abc import ABC, abstractmethod\nfrom pathlib import Path\nfrom typing import Any, Dict\n\nimport numpy as np\nimport pandas as pd\n\n\nclass BaseForecastModel(ABC):\n    \"\"\"Abstract base class for forecasting models.\"\"\"\n\n    def __init__(self, config: Dict[str, Any]):\n        self.config = config\n        self.model = None\n        self.is_fitted = False\n\n    @abstractmethod\n    def fit(self, X: pd.DataFrame, y: np.ndarray) -&gt; \"BaseForecastModel\":\n        \"\"\"Train the model.\"\"\"\n        pass\n\n    @abstractmethod\n    def predict(self, X: pd.DataFrame) -&gt; np.ndarray:\n        \"\"\"Generate predictions.\"\"\"\n        pass\n\n    @abstractmethod\n    def save(self, path: Path) -&gt; None:\n        \"\"\"Save model to disk.\"\"\"\n        pass\n\n    @abstractmethod\n    def load(self, path: Path) -&gt; \"BaseForecastModel\":\n        \"\"\"Load model from disk.\"\"\"\n        pass\n\n    def get_params(self) -&gt; Dict[str, Any]:\n        \"\"\"Get model parameters.\"\"\"\n        return self.config\n</code></pre>"},{"location":"architecture/modules/#solver-wrapper-pattern","title":"Solver Wrapper Pattern","text":"<p>Optimization solvers are wrapped for swappability:</p> src/optimization/solvers/base.py<pre><code>from abc import ABC, abstractmethod\nfrom typing import Any, Dict, List, Tuple\n\nimport numpy as np\n\n\nclass BaseSolver(ABC):\n    \"\"\"Abstract base class for optimization solvers.\"\"\"\n\n    @abstractmethod\n    def create_model(self) -&gt; Any:\n        \"\"\"Create solver model instance.\"\"\"\n        pass\n\n    @abstractmethod\n    def add_variables(\n        self,\n        num_vars: int,\n        lower_bounds: np.ndarray,\n        upper_bounds: np.ndarray\n    ) -&gt; List[Any]:\n        \"\"\"Add decision variables.\"\"\"\n        pass\n\n    @abstractmethod\n    def add_constraint(\n        self,\n        coefficients: np.ndarray,\n        variables: List[Any],\n        sense: str,\n        rhs: float\n    ) -&gt; None:\n        \"\"\"Add a constraint.\"\"\"\n        pass\n\n    @abstractmethod\n    def set_objective(\n        self,\n        coefficients: np.ndarray,\n        variables: List[Any],\n        sense: str = \"minimize\"\n    ) -&gt; None:\n        \"\"\"Set objective function.\"\"\"\n        pass\n\n    @abstractmethod\n    def solve(self) -&gt; Tuple[str, float, np.ndarray]:\n        \"\"\"Solve and return (status, objective_value, solution).\"\"\"\n        pass\n</code></pre>"},{"location":"architecture/modules/#pipeline-pattern","title":"Pipeline Pattern","text":"<p>Data processing follows a pipeline pattern:</p> src/data/pipeline.py<pre><code>from typing import Callable, List\n\nimport pandas as pd\n\n\nclass DataPipeline:\n    \"\"\"Composable data transformation pipeline.\"\"\"\n\n    def __init__(self):\n        self.steps: List[Callable[[pd.DataFrame], pd.DataFrame]] = []\n\n    def add_step(self, func: Callable[[pd.DataFrame], pd.DataFrame]) -&gt; \"DataPipeline\":\n        \"\"\"Add a transformation step.\"\"\"\n        self.steps.append(func)\n        return self\n\n    def run(self, data: pd.DataFrame) -&gt; pd.DataFrame:\n        \"\"\"Execute all steps in order.\"\"\"\n        result = data\n        for step in self.steps:\n            result = step(result)\n        return result\n\n\n# Usage example\npipeline = DataPipeline()\npipeline.add_step(clean_missing_values)\npipeline.add_step(add_time_features)\npipeline.add_step(create_lag_features)\n\nprocessed_data = pipeline.run(raw_data)\n</code></pre>"},{"location":"architecture/modules/#module-interfaces","title":"Module Interfaces","text":""},{"location":"architecture/modules/#data-module-interface","title":"Data Module Interface","text":"<pre><code># src/data/__init__.py\nclass DataIngestion:\n    def load_nyc_taxi(self) -&gt; pd.DataFrame: ...\n    def load_nasa_turbofan(self) -&gt; pd.DataFrame: ...\n\nclass DataPreprocessor:\n    def clean(self, data: pd.DataFrame) -&gt; pd.DataFrame: ...\n    def validate(self, data: pd.DataFrame) -&gt; bool: ...\n\nclass FleetSimulator:\n    def generate_fleet(self, num_vehicles: int) -&gt; pd.DataFrame: ...\n    def generate_network_costs(self, num_locations: int) -&gt; np.ndarray: ...\n</code></pre>"},{"location":"architecture/modules/#forecasting-module-interface","title":"Forecasting Module Interface","text":"<pre><code># src/forecasting/__init__.py\nclass ModelTrainer:\n    def train(self, data: pd.DataFrame) -&gt; Tuple[BaseForecastModel, Dict]: ...\n    def evaluate(self, model: BaseForecastModel, test_data: pd.DataFrame) -&gt; Dict: ...\n    def save(self, model: BaseForecastModel, path: Path) -&gt; None: ...\n\nclass DemandPredictor:\n    def load_model(self, path: Path) -&gt; None: ...\n    def predict(self, features: pd.DataFrame, horizon_days: int) -&gt; Dict[str, np.ndarray]: ...\n</code></pre>"},{"location":"architecture/modules/#optimization-module-interface","title":"Optimization Module Interface","text":"<pre><code># src/optimization/__init__.py\nclass CascadingOptimizer:\n    def optimize(\n        self,\n        demand_forecast: Dict[str, np.ndarray],\n        fleet_state: pd.DataFrame,\n        network_costs: np.ndarray,\n        constraints: Dict[str, float]\n    ) -&gt; OptimizationResult: ...\n\nclass MinCostFlowSolver:\n    def solve(\n        self,\n        supply: np.ndarray,\n        demand: np.ndarray,\n        costs: np.ndarray\n    ) -&gt; Tuple[np.ndarray, float]: ...\n</code></pre>"},{"location":"architecture/modules/#risk-module-interface","title":"Risk Module Interface","text":"<pre><code># src/risk/__init__.py\nclass RiskScorer:\n    def calculate(self, fleet_state: pd.DataFrame) -&gt; pd.DataFrame: ...\n    def categorize(self, scores: np.ndarray) -&gt; np.ndarray: ...\n</code></pre>"},{"location":"architecture/modules/#error-handling","title":"Error Handling","text":"<p>Each module defines custom exceptions:</p> src/forecasting/exceptions.py<pre><code>class ForecastError(Exception):\n    \"\"\"Base exception for forecasting module.\"\"\"\n    pass\n\nclass ModelNotFittedError(ForecastError):\n    \"\"\"Raised when predicting with unfitted model.\"\"\"\n    pass\n\nclass InvalidFeaturesError(ForecastError):\n    \"\"\"Raised when features are invalid.\"\"\"\n    pass\n</code></pre> src/optimization/exceptions.py<pre><code>class OptimizationError(Exception):\n    \"\"\"Base exception for optimization module.\"\"\"\n    pass\n\nclass InfeasibleProblemError(OptimizationError):\n    \"\"\"Raised when optimization problem is infeasible.\"\"\"\n    pass\n\nclass SolverTimeoutError(OptimizationError):\n    \"\"\"Raised when solver exceeds time limit.\"\"\"\n    pass\n</code></pre>"},{"location":"architecture/modules/#dependency-injection","title":"Dependency Injection","text":"<p>Configuration and dependencies are injected:</p> <pre><code># Good: Dependency injection\nclass DemandPredictor:\n    def __init__(self, config: Dict[str, Any], model: BaseForecastModel = None):\n        self.config = config\n        self.model = model\n\n# Bad: Hardcoded dependencies\nclass DemandPredictor:\n    def __init__(self):\n        self.config = {\"model\": \"xgboost\"}  # Hardcoded!\n        self.model = XGBoostModel()  # Tight coupling!\n</code></pre>"},{"location":"architecture/modules/#testing-patterns","title":"Testing Patterns","text":"<p>Each module should have:</p> <ol> <li>Unit tests for individual functions</li> <li>Integration tests for module interactions</li> <li>Fixtures for test data</li> </ol> tests/unit/test_forecasting.py<pre><code>import pytest\nfrom src.forecasting.models.xgboost_model import XGBoostForecastModel\n\n\n@pytest.fixture\ndef sample_config():\n    return {\"n_estimators\": 10, \"max_depth\": 3}\n\n\n@pytest.fixture\ndef sample_data():\n    # Create small test dataset\n    ...\n\n\ndef test_model_fit(sample_config, sample_data):\n    model = XGBoostForecastModel(sample_config)\n    X, y = sample_data\n    model.fit(X, y)\n    assert model.is_fitted\n\n\ndef test_model_predict(sample_config, sample_data):\n    model = XGBoostForecastModel(sample_config)\n    X, y = sample_data\n    model.fit(X, y)\n    predictions = model.predict(X)\n    assert len(predictions) == len(y)\n</code></pre>"},{"location":"architecture/modules/#next-steps","title":"Next Steps","text":"<ul> <li>System Overview - Component details</li> <li>Data Flow - Data pipeline</li> <li>API Reference - API documentation</li> </ul>"},{"location":"architecture/system-overview/","title":"System Overview","text":"<p>Detailed breakdown of each system component and their interactions.</p>"},{"location":"architecture/system-overview/#component-architecture","title":"Component Architecture","text":"<pre><code>graph TB\n    subgraph DataIngestion[\"Data Ingestion\"]\n        DI_NYC[NYC Taxi Loader]\n        DI_NASA[NASA Data Loader]\n        DI_SIM[Fleet Simulator]\n    end\n\n    subgraph FeatureEng[\"Feature Engineering\"]\n        FE_TIME[Time Features]\n        FE_LAG[Lag Features]\n        FE_AGG[Aggregations]\n    end\n\n    subgraph Forecasting[\"Demand Forecasting\"]\n        F_XGB[XGBoost Model]\n        F_PROPHET[Prophet Model]\n        F_HIER[Hierarchical Reconciliation]\n    end\n\n    subgraph RiskScoring[\"Risk Scoring\"]\n        R_HEUR[Heuristic Scorer]\n        R_CLASS[ML Classifier]\n        R_SURV[Survival Model]\n    end\n\n    subgraph Optimization[\"Optimization Engine\"]\n        O_CONST[Constraint Manager]\n        O_MCF[Min-Cost Flow]\n        O_MILP[MILP Refiner]\n        O_CASC[Cascade Orchestrator]\n    end\n\n    subgraph Explainability[\"Explainability\"]\n        E_SHAP[SHAP Analysis]\n        E_COST[Cost Drivers]\n        E_CONST[Constraint Analysis]\n    end\n\n    subgraph API[\"API Layer\"]\n        A_ROUTE[Route Handlers]\n        A_MODEL[Pydantic Models]\n        A_VALID[Validation]\n    end\n\n    DataIngestion --&gt; FeatureEng\n    FeatureEng --&gt; Forecasting\n    FeatureEng --&gt; RiskScoring\n    Forecasting --&gt; Optimization\n    RiskScoring --&gt; Optimization\n    Optimization --&gt; Explainability\n    Explainability --&gt; API</code></pre>"},{"location":"architecture/system-overview/#component-details","title":"Component Details","text":""},{"location":"architecture/system-overview/#data-ingestion-srcdata","title":"Data Ingestion (<code>src/data/</code>)","text":"Module Description Status <code>ingestion.py</code> Data loading from external sources MVP <code>preprocessing.py</code> Data cleaning and transformation MVP <code>feature_engineering.py</code> Feature creation MVP <code>simulation.py</code> Synthetic fleet data generation MVP Example: Data Ingestion<pre><code>from src.data.ingestion import DataIngestion\n\ningestion = DataIngestion(config)\ndemand_data = ingestion.load_nyc_taxi()\nrisk_data = ingestion.load_nasa_turbofan()\n</code></pre>"},{"location":"architecture/system-overview/#demand-forecasting-srcforecasting","title":"Demand Forecasting (<code>src/forecasting/</code>)","text":"Module Description Status <code>models/xgboost_model.py</code> XGBoost forecasting MVP <code>models/prophet_model.py</code> Prophet forecasting Phase 2 <code>trainer.py</code> Model training MVP <code>predictor.py</code> Prediction interface MVP <code>hierarchy.py</code> Hierarchical reconciliation Phase 2 Example: Forecasting<pre><code>from src.forecasting import DemandPredictor\n\npredictor = DemandPredictor(config)\nforecasts = predictor.predict(features, horizon_days=7)\n</code></pre>"},{"location":"architecture/system-overview/#risk-scoring-srcrisk","title":"Risk Scoring (<code>src/risk/</code>)","text":"Module Description Status <code>scoring.py</code> Risk score calculation MVP <code>models/classifier.py</code> ML risk classifier Phase 2 <code>survival.py</code> Survival analysis Phase 4 Example: Risk Scoring<pre><code>from src.risk import RiskScorer\n\nscorer = RiskScorer(config)\nrisk_scores = scorer.calculate(fleet_state)\n</code></pre>"},{"location":"architecture/system-overview/#optimization-engine-srcoptimization","title":"Optimization Engine (<code>src/optimization/</code>)","text":"Module Description Status <code>cascade.py</code> Orchestrates optimization stages MVP <code>min_cost_flow.py</code> Min-cost flow solver MVP <code>milp.py</code> MILP refinement Phase 4 <code>constraints.py</code> Constraint management MVP <code>solvers/ortools_wrapper.py</code> OR-Tools integration MVP Example: Optimization<pre><code>from src.optimization import CascadingOptimizer\n\noptimizer = CascadingOptimizer(config)\nresult = optimizer.optimize(\n    demand_forecast=forecasts,\n    fleet_state=fleet_state,\n    network_costs=costs\n)\n</code></pre>"},{"location":"architecture/system-overview/#explainability-srcexplainability","title":"Explainability (<code>src/explainability/</code>)","text":"Module Description Status <code>shap_analysis.py</code> SHAP for forecasts Phase 2 <code>cost_analysis.py</code> Cost driver breakdown MVP <code>constraint_analysis.py</code> Binding constraint analysis Phase 2"},{"location":"architecture/system-overview/#api-layer-srcapi","title":"API Layer (<code>src/api/</code>)","text":"Module Description Status <code>main.py</code> FastAPI application MVP <code>routes/optimize.py</code> Optimization endpoint MVP <code>routes/forecast.py</code> Forecast endpoint MVP <code>models/requests.py</code> Request schemas MVP <code>models/responses.py</code> Response schemas MVP"},{"location":"architecture/system-overview/#data-flow-between-components","title":"Data Flow Between Components","text":"<pre><code>sequenceDiagram\n    participant Client\n    participant API\n    participant Forecasting\n    participant Risk\n    participant Optimizer\n    participant Explainer\n\n    Client-&gt;&gt;API: POST /optimize\n    API-&gt;&gt;Forecasting: Generate forecasts\n    Forecasting--&gt;&gt;API: Forecast results\n    API-&gt;&gt;Risk: Calculate risk scores\n    Risk--&gt;&gt;API: Risk scores\n    API-&gt;&gt;Optimizer: Run optimization\n    Optimizer--&gt;&gt;API: Allocation plan\n    API-&gt;&gt;Explainer: Generate explanations\n    Explainer--&gt;&gt;API: Explanations\n    API--&gt;&gt;Client: Complete response</code></pre>"},{"location":"architecture/system-overview/#interface-contracts","title":"Interface Contracts","text":""},{"location":"architecture/system-overview/#forecast-output-format","title":"Forecast Output Format","text":"<pre><code>{\n    \"location_1\": np.array([10, 12, 15, ...]),  # Hourly demand\n    \"location_2\": np.array([8, 10, 11, ...]),\n    ...\n}\n</code></pre>"},{"location":"architecture/system-overview/#risk-score-output-format","title":"Risk Score Output Format","text":"<pre><code>pd.DataFrame({\n    \"asset_id\": [\"V001\", \"V002\", ...],\n    \"risk_score\": [0.2, 0.8, ...],\n    \"risk_category\": [\"low\", \"high\", ...]\n})\n</code></pre>"},{"location":"architecture/system-overview/#allocation-plan-format","title":"Allocation Plan Format","text":"<pre><code>pd.DataFrame({\n    \"vehicle_id\": [\"V001\", \"V002\", ...],\n    \"source_location\": [1, 2, ...],\n    \"target_location\": [3, 1, ...],\n    \"cost\": [15.5, 22.0, ...],\n    \"assignment\": [\"rebalance\", \"stay\", ...]\n})\n</code></pre>"},{"location":"architecture/system-overview/#next-steps","title":"Next Steps","text":"<ul> <li>Data Flow - Detailed data pipeline</li> <li>Module Design - Individual module patterns</li> <li>API Reference - API documentation</li> </ul>"},{"location":"developer/","title":"Developer Guide","text":"<p>Everything you need to contribute to and extend the Fleet Decision Platform.</p>"},{"location":"developer/#getting-started","title":"Getting Started","text":"<ul> <li> <p> Project Structure</p> <p>Understand the codebase organization.</p> <p> Structure</p> </li> <li> <p> Contributing</p> <p>How to contribute code and documentation.</p> <p> Contributing</p> </li> <li> <p> Testing</p> <p>Write and run tests effectively.</p> <p> Testing</p> </li> <li> <p> Code Style</p> <p>Follow coding standards and conventions.</p> <p> Code Style</p> </li> </ul>"},{"location":"developer/#development-setup","title":"Development Setup","text":""},{"location":"developer/#quick-setup","title":"Quick Setup","text":"<pre><code># Clone repository\ngit clone https://github.com/yourusername/fleet-cascade.git\ncd fleet-cascade\n\n# Install all dependencies\nuv sync --all-extras\n\n# Set up pre-commit hooks\nuv run pre-commit install\n\n# Run tests\nuv run pytest\n</code></pre>"},{"location":"developer/#environment-setup","title":"Environment Setup","text":"<pre><code># Copy environment template\ncp .env.example .env\n\n# Edit with your settings\nnano .env\n</code></pre>"},{"location":"developer/#development-workflow","title":"Development Workflow","text":"<pre><code>graph LR\n    A[Create Branch] --&gt; B[Write Code]\n    B --&gt; C[Write Tests]\n    C --&gt; D[Run Tests]\n    D --&gt; E{Pass?}\n    E --&gt;|No| B\n    E --&gt;|Yes| F[Lint &amp; Format]\n    F --&gt; G[Create PR]\n    G --&gt; H[Code Review]\n    H --&gt; I[Merge]</code></pre>"},{"location":"developer/#branch-naming","title":"Branch Naming","text":"Type Pattern Example Feature <code>feature/description</code> <code>feature/add-prophet-model</code> Bugfix <code>fix/description</code> <code>fix/optimization-timeout</code> Docs <code>docs/description</code> <code>docs/update-api-guide</code> Refactor <code>refactor/description</code> <code>refactor/forecasting-module</code>"},{"location":"developer/#commit-messages","title":"Commit Messages","text":"<p>Follow conventional commits:</p> <pre><code>type(scope): description\n\nfeat(forecasting): add Prophet model support\nfix(api): handle empty forecast requests\ndocs(readme): update installation instructions\ntest(optimization): add constraint validation tests\n</code></pre>"},{"location":"developer/#common-tasks","title":"Common Tasks","text":""},{"location":"developer/#running-the-api","title":"Running the API","text":"<pre><code># Development mode (with reload)\nmake run\n\n# Production mode\nmake run-prod\n</code></pre>"},{"location":"developer/#running-tests","title":"Running Tests","text":"<pre><code># All tests\nmake test\n\n# With coverage\nmake test-cov\n\n# Specific module\nuv run pytest tests/unit/test_forecasting.py -v\n</code></pre>"},{"location":"developer/#code-quality","title":"Code Quality","text":"<pre><code># Lint and format\nmake lint\nmake format\n\n# Pre-commit checks\nmake pre-commit\n</code></pre>"},{"location":"developer/#architecture-overview","title":"Architecture Overview","text":"<pre><code>src/\n\u251c\u2500\u2500 data/           # Data ingestion &amp; processing\n\u251c\u2500\u2500 forecasting/    # Demand prediction models\n\u251c\u2500\u2500 optimization/   # Fleet allocation engine\n\u251c\u2500\u2500 risk/           # Risk assessment\n\u251c\u2500\u2500 contracts/      # Contract intelligence (Phase 3)\n\u251c\u2500\u2500 explainability/ # Model explanations\n\u251c\u2500\u2500 api/            # FastAPI application\n\u2514\u2500\u2500 utils/          # Shared utilities\n</code></pre>"},{"location":"developer/#key-design-decisions","title":"Key Design Decisions","text":"<ol> <li>Config-driven: All parameters in YAML/JSON files</li> <li>Modular: Each capability is a separate module</li> <li>Testable: Clear interfaces for unit testing</li> <li>Type-safe: Type hints throughout</li> <li>MVP-first: Simple implementations, enhance later</li> </ol>"},{"location":"developer/#getting-help","title":"Getting Help","text":"<ul> <li>Check existing GitHub Issues</li> <li>Read the Architecture docs</li> <li>Ask in Discussions</li> </ul>"},{"location":"developer/code-style/","title":"Code Style Guide","text":"<p>Coding standards and conventions for the Fleet Decision Platform.</p>"},{"location":"developer/code-style/#overview","title":"Overview","text":"<p>We use: - PEP 8 for Python style - Ruff for linting and formatting - Type hints everywhere - Google-style docstrings</p>"},{"location":"developer/code-style/#quick-reference","title":"Quick Reference","text":"<pre><code># Check code style\nuv run ruff check src/ tests/\n\n# Auto-fix issues\nuv run ruff check --fix src/ tests/\n\n# Format code\nuv run ruff format src/ tests/\n</code></pre>"},{"location":"developer/code-style/#python-style","title":"Python Style","text":""},{"location":"developer/code-style/#imports","title":"Imports","text":"<pre><code># Good: Organized imports\nimport logging\nfrom pathlib import Path\nfrom typing import Dict, List, Optional\n\nimport numpy as np\nimport pandas as pd\nfrom fastapi import APIRouter\n\nfrom src.utils.config import load_config\nfrom src.forecasting.models.base import BaseForecastModel\n\n# Bad: Unorganized\nfrom src.utils.config import load_config\nimport numpy as np\nimport logging\nfrom fastapi import APIRouter\n</code></pre>"},{"location":"developer/code-style/#naming-conventions","title":"Naming Conventions","text":"Type Convention Example Variables snake_case <code>user_name</code>, <code>total_count</code> Functions snake_case <code>calculate_risk()</code>, <code>load_data()</code> Classes PascalCase <code>DataLoader</code>, <code>XGBoostModel</code> Constants UPPER_SNAKE <code>MAX_RETRIES</code>, <code>DEFAULT_PORT</code> Private leading underscore <code>_internal_method()</code>"},{"location":"developer/code-style/#line-length","title":"Line Length","text":"<p>Maximum 100 characters.</p> <pre><code># Good: Line breaks\nresult = optimizer.optimize(\n    demand_forecast=forecasts,\n    fleet_state=fleet_state,\n    network_costs=network_costs,\n    constraints=constraints,\n)\n\n# Bad: Too long\nresult = optimizer.optimize(demand_forecast=forecasts, fleet_state=fleet_state, network_costs=network_costs, constraints=constraints)\n</code></pre>"},{"location":"developer/code-style/#type-hints","title":"Type Hints","text":""},{"location":"developer/code-style/#function-signatures","title":"Function Signatures","text":"<pre><code># Good: Full type hints\ndef calculate_risk(\n    age_days: int,\n    utilization: float,\n    weights: Dict[str, float],\n) -&gt; float:\n    \"\"\"Calculate risk score.\"\"\"\n    ...\n\n# Bad: Missing type hints\ndef calculate_risk(age_days, utilization, weights):\n    ...\n</code></pre>"},{"location":"developer/code-style/#common-types","title":"Common Types","text":"<pre><code>from typing import Any, Dict, List, Optional, Tuple, Union\n\n# Basic types\nname: str\ncount: int\nrate: float\nis_active: bool\n\n# Collections\nitems: List[str]\nmapping: Dict[str, int]\ncoordinates: Tuple[float, float]\n\n# Optional values\nconfig: Optional[Dict[str, Any]] = None\n\n# Union types\nid_or_name: Union[int, str]\n\n# Type aliases\nForecast = Dict[str, np.ndarray]\n</code></pre>"},{"location":"developer/code-style/#dataframe-type-hints","title":"DataFrame Type Hints","text":"<pre><code>import pandas as pd\n\ndef process_data(data: pd.DataFrame) -&gt; pd.DataFrame:\n    \"\"\"Process input data.\"\"\"\n    ...\n</code></pre>"},{"location":"developer/code-style/#docstrings","title":"Docstrings","text":""},{"location":"developer/code-style/#function-docstrings-google-style","title":"Function Docstrings (Google Style)","text":"<pre><code>def optimize_allocation(\n    demand_forecast: Dict[str, np.ndarray],\n    fleet_state: pd.DataFrame,\n    constraints: Dict[str, float],\n) -&gt; pd.DataFrame:\n    \"\"\"Optimize fleet allocation using min-cost flow.\n\n    Finds the optimal vehicle distribution across locations\n    to minimize total rebalancing cost while satisfying\n    demand and operational constraints.\n\n    Args:\n        demand_forecast: Predicted demand by location.\n            Keys are location IDs, values are hourly forecasts.\n        fleet_state: Current vehicle positions and status.\n            Must have columns: vehicle_id, location_id, status.\n        constraints: Operational constraints including:\n            - max_distance: Maximum rebalancing distance\n            - min_service_level: Minimum demand coverage (0-1)\n\n    Returns:\n        DataFrame with allocation plan containing:\n            - vehicle_id: Vehicle identifier\n            - source_location: Current location\n            - target_location: Assigned location\n            - cost: Movement cost\n\n    Raises:\n        ValueError: If demand_forecast is empty.\n        OptimizationError: If problem is infeasible.\n\n    Example:\n        &gt;&gt;&gt; forecasts = {\"1\": np.array([10, 15, 20])}\n        &gt;&gt;&gt; fleet = pd.DataFrame({\"vehicle_id\": [\"V1\"], \"location_id\": [1]})\n        &gt;&gt;&gt; result = optimize_allocation(forecasts, fleet, {\"max_distance\": 100})\n    \"\"\"\n</code></pre>"},{"location":"developer/code-style/#class-docstrings","title":"Class Docstrings","text":"<pre><code>class CascadingOptimizer:\n    \"\"\"Multi-stage fleet optimization engine.\n\n    Implements cascading optimization with configurable stages:\n    1. Critical demand satisfaction\n    2. Min-cost flow rebalancing\n    3. MILP refinement (optional)\n\n    Attributes:\n        config: Configuration dictionary.\n        solver: Underlying optimization solver.\n        stages: List of optimization stages to run.\n\n    Example:\n        &gt;&gt;&gt; config = load_config()\n        &gt;&gt;&gt; optimizer = CascadingOptimizer(config)\n        &gt;&gt;&gt; result = optimizer.optimize(forecasts, fleet_state, costs)\n    \"\"\"\n</code></pre>"},{"location":"developer/code-style/#error-handling","title":"Error Handling","text":""},{"location":"developer/code-style/#custom-exceptions","title":"Custom Exceptions","text":"<pre><code># src/forecasting/exceptions.py\nclass ForecastError(Exception):\n    \"\"\"Base exception for forecasting module.\"\"\"\n    pass\n\nclass ModelNotFittedError(ForecastError):\n    \"\"\"Raised when predicting with unfitted model.\"\"\"\n    pass\n</code></pre>"},{"location":"developer/code-style/#error-handling-pattern","title":"Error Handling Pattern","text":"<pre><code>import logging\nfrom src.forecasting.exceptions import ModelNotFittedError\n\nlogger = logging.getLogger(__name__)\n\ndef predict(self, features: pd.DataFrame) -&gt; np.ndarray:\n    \"\"\"Generate predictions.\"\"\"\n    if not self.is_fitted:\n        raise ModelNotFittedError(\"Model must be fitted before prediction\")\n\n    try:\n        return self.model.predict(features)\n    except Exception as e:\n        logger.error(f\"Prediction failed: {e}\", exc_info=True)\n        raise ForecastError(f\"Prediction failed: {e}\") from e\n</code></pre>"},{"location":"developer/code-style/#logging","title":"Logging","text":""},{"location":"developer/code-style/#logger-setup","title":"Logger Setup","text":"<pre><code>import logging\n\nlogger = logging.getLogger(__name__)\n\ndef process_data(data: pd.DataFrame) -&gt; pd.DataFrame:\n    \"\"\"Process input data.\"\"\"\n    logger.info(f\"Processing {len(data)} records\")\n\n    try:\n        result = transform(data)\n        logger.debug(f\"Transformation complete: {result.shape}\")\n        return result\n    except Exception as e:\n        logger.error(f\"Processing failed: {e}\", exc_info=True)\n        raise\n</code></pre>"},{"location":"developer/code-style/#log-levels","title":"Log Levels","text":"Level Usage DEBUG Detailed diagnostic info INFO General operational info WARNING Something unexpected ERROR Error that was handled CRITICAL System is unusable"},{"location":"developer/code-style/#configuration","title":"Configuration","text":""},{"location":"developer/code-style/#never-hardcode","title":"Never Hardcode","text":"<pre><code># Good: Config-driven\nconfig = load_config()\nmodel = XGBoostModel(config[\"forecasting\"][\"xgboost\"])\n\n# Bad: Hardcoded\nmodel = XGBoostModel({\"n_estimators\": 100, \"max_depth\": 6})\n</code></pre>"},{"location":"developer/code-style/#use-pathlib","title":"Use pathlib","text":"<pre><code># Good: pathlib.Path\nfrom pathlib import Path\n\ndata_dir = Path(\"data/processed\")\nmodel_path = data_dir / \"models\" / \"forecast.pkl\"\n\n# Bad: os.path\nimport os\nmodel_path = os.path.join(\"data\", \"processed\", \"models\", \"forecast.pkl\")\n</code></pre>"},{"location":"developer/code-style/#ruff-configuration","title":"Ruff Configuration","text":"<pre><code># pyproject.toml\n[tool.ruff]\nline-length = 100\ntarget-version = \"py39\"\n\n[tool.ruff.lint]\nselect = [\n    \"E\",      # pycodestyle errors\n    \"F\",      # Pyflakes\n    \"I\",      # isort\n    \"N\",      # pep8-naming\n    \"W\",      # pycodestyle warnings\n    \"UP\",     # pyupgrade\n    \"B\",      # flake8-bugbear\n]\n\n[tool.ruff.format]\nquote-style = \"double\"\nindent-style = \"space\"\n</code></pre>"},{"location":"developer/code-style/#pre-commit-hooks","title":"Pre-commit Hooks","text":"<p>Automatically enforced on commit:</p> <pre><code># .pre-commit-config.yaml\nrepos:\n  - repo: https://github.com/astral-sh/ruff-pre-commit\n    rev: v0.1.6\n    hooks:\n      - id: ruff\n        args: [--fix]\n      - id: ruff-format\n</code></pre>"},{"location":"developer/code-style/#next-steps","title":"Next Steps","text":"<ul> <li>Testing - Testing guide</li> <li>Contributing - How to contribute</li> <li>Project Structure - Codebase organization</li> </ul>"},{"location":"developer/contributing/","title":"Contributing Guide","text":"<p>Thank you for your interest in contributing to the Fleet Decision Platform!</p>"},{"location":"developer/contributing/#ways-to-contribute","title":"Ways to Contribute","text":"<ul> <li>Code: New features, bug fixes, optimizations</li> <li>Documentation: Improve guides, fix typos, add examples</li> <li>Testing: Add test cases, improve coverage</li> <li>Issues: Report bugs, suggest features</li> </ul>"},{"location":"developer/contributing/#getting-started","title":"Getting Started","text":""},{"location":"developer/contributing/#1-fork-and-clone","title":"1. Fork and Clone","text":"<pre><code># Fork the repository on GitHub, then clone\ngit clone https://github.com/YOUR_USERNAME/fleet-cascade.git\ncd fleet-cascade\n\n# Add upstream remote\ngit remote add upstream https://github.com/yourusername/fleet-cascade.git\n</code></pre>"},{"location":"developer/contributing/#2-set-up-development-environment","title":"2. Set Up Development Environment","text":"<pre><code># Install all dependencies\nuv sync --all-extras\n\n# Install pre-commit hooks\nuv run pre-commit install\n\n# Verify setup\nuv run pytest tests/ -v\n</code></pre>"},{"location":"developer/contributing/#3-create-a-branch","title":"3. Create a Branch","text":"<pre><code># Sync with upstream\ngit fetch upstream\ngit checkout main\ngit merge upstream/main\n\n# Create feature branch\ngit checkout -b feature/your-feature-name\n</code></pre>"},{"location":"developer/contributing/#development-workflow","title":"Development Workflow","text":""},{"location":"developer/contributing/#make-changes","title":"Make Changes","text":"<ol> <li>Write code following Code Style guidelines</li> <li>Add/update tests for your changes</li> <li>Update documentation if needed</li> <li>Run tests locally</li> </ol>"},{"location":"developer/contributing/#test-your-changes","title":"Test Your Changes","text":"<pre><code># Run all tests\nuv run pytest\n\n# Run with coverage\nuv run pytest --cov=src --cov-report=html\n\n# Run specific test file\nuv run pytest tests/unit/test_forecasting.py -v\n</code></pre>"},{"location":"developer/contributing/#lint-and-format","title":"Lint and Format","text":"<pre><code># Check code style\nuv run ruff check src/ tests/\n\n# Format code\nuv run ruff format src/ tests/\n\n# Run all pre-commit hooks\nuv run pre-commit run --all-files\n</code></pre>"},{"location":"developer/contributing/#commit-changes","title":"Commit Changes","text":"<p>Follow conventional commit messages:</p> <pre><code># Feature\ngit commit -m \"feat(module): add new capability\"\n\n# Bug fix\ngit commit -m \"fix(module): resolve issue with X\"\n\n# Documentation\ngit commit -m \"docs(section): update installation guide\"\n\n# Tests\ngit commit -m \"test(module): add unit tests for Y\"\n\n# Refactor\ngit commit -m \"refactor(module): simplify Z implementation\"\n</code></pre>"},{"location":"developer/contributing/#push-and-create-pr","title":"Push and Create PR","text":"<pre><code># Push branch\ngit push origin feature/your-feature-name\n</code></pre> <p>Then create a Pull Request on GitHub.</p>"},{"location":"developer/contributing/#pull-request-guidelines","title":"Pull Request Guidelines","text":""},{"location":"developer/contributing/#pr-title","title":"PR Title","text":"<p>Use conventional commit format:</p> <pre><code>feat(forecasting): add Prophet model support\nfix(api): handle empty request body\ndocs(readme): update quick start section\n</code></pre>"},{"location":"developer/contributing/#pr-description-template","title":"PR Description Template","text":"<pre><code>## Description\nBrief description of changes.\n\n## Type of Change\n- [ ] Bug fix\n- [ ] New feature\n- [ ] Breaking change\n- [ ] Documentation update\n\n## Testing\n- [ ] Tests pass locally\n- [ ] Added new tests\n- [ ] Updated existing tests\n\n## Checklist\n- [ ] Code follows style guidelines\n- [ ] Self-reviewed code\n- [ ] Added/updated documentation\n- [ ] No new warnings\n</code></pre>"},{"location":"developer/contributing/#pr-review-process","title":"PR Review Process","text":"<ol> <li>Automated checks run (tests, linting)</li> <li>Maintainer reviews code</li> <li>Address feedback</li> <li>Approval and merge</li> </ol>"},{"location":"developer/contributing/#code-review-guidelines","title":"Code Review Guidelines","text":""},{"location":"developer/contributing/#for-authors","title":"For Authors","text":"<ul> <li>Keep PRs focused and small</li> <li>Explain the \"why\" in PR description</li> <li>Respond to feedback promptly</li> <li>Be open to suggestions</li> </ul>"},{"location":"developer/contributing/#for-reviewers","title":"For Reviewers","text":"<ul> <li>Be constructive and specific</li> <li>Explain reasoning for suggestions</li> <li>Approve when satisfied</li> <li>Use suggestions feature for small fixes</li> </ul>"},{"location":"developer/contributing/#development-standards","title":"Development Standards","text":""},{"location":"developer/contributing/#code-quality","title":"Code Quality","text":"<ul> <li> Type hints on all functions</li> <li> Docstrings on public functions</li> <li> No hardcoded values (use config)</li> <li> Error handling with custom exceptions</li> <li> Logging at appropriate levels</li> </ul>"},{"location":"developer/contributing/#testing","title":"Testing","text":"<ul> <li> Unit tests for new functions</li> <li> Integration tests for new endpoints</li> <li> Edge cases covered</li> <li> Fixtures used appropriately</li> </ul>"},{"location":"developer/contributing/#documentation","title":"Documentation","text":"<ul> <li> Docstrings updated</li> <li> README updated if needed</li> <li> API docs updated for new endpoints</li> <li> User guide updated for new features</li> </ul>"},{"location":"developer/contributing/#issue-guidelines","title":"Issue Guidelines","text":""},{"location":"developer/contributing/#bug-reports","title":"Bug Reports","text":"<p>Include: - Python version - Operating system - Steps to reproduce - Expected vs actual behavior - Error messages/logs</p>"},{"location":"developer/contributing/#feature-requests","title":"Feature Requests","text":"<p>Include: - Use case description - Proposed solution - Alternatives considered - Willingness to implement</p>"},{"location":"developer/contributing/#recognition","title":"Recognition","text":"<p>Contributors are recognized in: - GitHub contributors list - Release notes - Documentation acknowledgments</p>"},{"location":"developer/contributing/#questions","title":"Questions?","text":"<ul> <li>Check GitHub Discussions</li> <li>Review existing issues</li> <li>Reach out to maintainers</li> </ul> <p>Thank you for contributing! \ud83c\udf89</p>"},{"location":"developer/structure/","title":"Project Structure","text":"<p>Detailed guide to the codebase organization.</p>"},{"location":"developer/structure/#directory-layout","title":"Directory Layout","text":"<pre><code>fleet-cascade/\n\u251c\u2500\u2500 .cursorrules              # Cursor AI coding guidelines\n\u251c\u2500\u2500 .env.example              # Environment template\n\u251c\u2500\u2500 .gitignore                # Git ignore rules\n\u251c\u2500\u2500 .pre-commit-config.yaml   # Pre-commit hooks\n\u251c\u2500\u2500 Makefile                  # Development commands\n\u251c\u2500\u2500 README.md                 # Project overview\n\u251c\u2500\u2500 mkdocs.yml                # Documentation config\n\u251c\u2500\u2500 plan.md                   # Project plan\n\u251c\u2500\u2500 pyproject.toml            # Package configuration\n\u2502\n\u251c\u2500\u2500 config/                   # Configuration files\n\u2502   \u251c\u2500\u2500 config.yaml           # Main configuration\n\u2502   \u2514\u2500\u2500 constraints/          # Constraint definitions\n\u2502       \u2514\u2500\u2500 fleet_constraints.json\n\u2502\n\u251c\u2500\u2500 data/                     # Data directory (gitignored)\n\u2502   \u251c\u2500\u2500 raw/                  # Raw data files\n\u2502   \u251c\u2500\u2500 processed/            # Processed data\n\u2502   \u251c\u2500\u2500 models/               # Trained models\n\u2502   \u2514\u2500\u2500 outputs/              # Generated outputs\n\u2502\n\u251c\u2500\u2500 docs/                     # Documentation (MkDocs)\n\u2502   \u251c\u2500\u2500 index.md              # Homepage\n\u2502   \u251c\u2500\u2500 getting-started/      # Setup guides\n\u2502   \u251c\u2500\u2500 architecture/         # System design\n\u2502   \u251c\u2500\u2500 user-guide/           # User documentation\n\u2502   \u251c\u2500\u2500 api/                  # API reference\n\u2502   \u251c\u2500\u2500 developer/            # Developer guide\n\u2502   \u251c\u2500\u2500 operations/           # Operations guide\n\u2502   \u2514\u2500\u2500 reference/            # Reference docs\n\u2502\n\u251c\u2500\u2500 scripts/                  # Utility scripts\n\u2502   \u251c\u2500\u2500 download_data.py      # Data download\n\u2502   \u251c\u2500\u2500 generate_fleet.py     # Fleet simulation\n\u2502   \u251c\u2500\u2500 train_models.py       # Model training\n\u2502   \u2514\u2500\u2500 run_pipeline.py       # Pipeline execution\n\u2502\n\u251c\u2500\u2500 src/                      # Source code\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 api/                  # FastAPI application\n\u2502   \u251c\u2500\u2500 contracts/            # Contract intelligence\n\u2502   \u251c\u2500\u2500 data/                 # Data processing\n\u2502   \u251c\u2500\u2500 explainability/       # Explainability\n\u2502   \u251c\u2500\u2500 forecasting/          # Demand forecasting\n\u2502   \u251c\u2500\u2500 optimization/         # Optimization engine\n\u2502   \u251c\u2500\u2500 risk/                 # Risk prediction\n\u2502   \u2514\u2500\u2500 utils/                # Shared utilities\n\u2502\n\u2514\u2500\u2500 tests/                    # Test suite\n    \u251c\u2500\u2500 conftest.py           # Pytest fixtures\n    \u251c\u2500\u2500 fixtures/             # Test data\n    \u251c\u2500\u2500 integration/          # Integration tests\n    \u2514\u2500\u2500 unit/                 # Unit tests\n</code></pre>"},{"location":"developer/structure/#source-code-organization","title":"Source Code Organization","text":""},{"location":"developer/structure/#data-module-srcdata","title":"Data Module (<code>src/data/</code>)","text":"<pre><code>src/data/\n\u251c\u2500\u2500 __init__.py\n\u251c\u2500\u2500 ingestion.py          # Load data from sources\n\u251c\u2500\u2500 preprocessing.py      # Clean and transform data\n\u251c\u2500\u2500 feature_engineering.py # Create features\n\u2514\u2500\u2500 simulation.py         # Generate synthetic data\n</code></pre> <p>Responsibilities: - Load raw data from files and APIs - Clean and validate data - Create features for ML models - Generate simulated fleet data</p>"},{"location":"developer/structure/#forecasting-module-srcforecasting","title":"Forecasting Module (<code>src/forecasting/</code>)","text":"<pre><code>src/forecasting/\n\u251c\u2500\u2500 __init__.py\n\u251c\u2500\u2500 models/               # Model implementations\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 base.py          # Abstract base class\n\u2502   \u251c\u2500\u2500 xgboost_model.py # XGBoost implementation\n\u2502   \u2514\u2500\u2500 prophet_model.py # Prophet implementation\n\u251c\u2500\u2500 trainer.py           # Model training logic\n\u251c\u2500\u2500 predictor.py         # Prediction interface\n\u2514\u2500\u2500 hierarchy.py         # Hierarchical reconciliation\n</code></pre> <p>Responsibilities: - Train demand forecasting models - Generate predictions - Handle model persistence - Support multiple model types</p>"},{"location":"developer/structure/#optimization-module-srcoptimization","title":"Optimization Module (<code>src/optimization/</code>)","text":"<pre><code>src/optimization/\n\u251c\u2500\u2500 __init__.py\n\u251c\u2500\u2500 cascade.py           # Orchestrate optimization stages\n\u251c\u2500\u2500 min_cost_flow.py     # Min-cost flow implementation\n\u251c\u2500\u2500 milp.py              # MILP refinement\n\u251c\u2500\u2500 constraints.py       # Constraint management\n\u2514\u2500\u2500 solvers/             # Solver wrappers\n    \u251c\u2500\u2500 __init__.py\n    \u251c\u2500\u2500 base.py          # Abstract solver\n    \u2514\u2500\u2500 ortools_wrapper.py # OR-Tools wrapper\n</code></pre> <p>Responsibilities: - Run optimization algorithms - Manage constraints - Coordinate multiple stages - Wrap solver libraries</p>"},{"location":"developer/structure/#risk-module-srcrisk","title":"Risk Module (<code>src/risk/</code>)","text":"<pre><code>src/risk/\n\u251c\u2500\u2500 __init__.py\n\u251c\u2500\u2500 scoring.py           # Risk score calculation\n\u251c\u2500\u2500 survival.py          # Survival analysis\n\u2514\u2500\u2500 models/              # Risk models\n    \u251c\u2500\u2500 __init__.py\n    \u2514\u2500\u2500 classifier.py    # ML risk classifier\n</code></pre> <p>Responsibilities: - Calculate risk scores - Categorize risk levels - Support multiple scoring methods</p>"},{"location":"developer/structure/#api-module-srcapi","title":"API Module (<code>src/api/</code>)","text":"<pre><code>src/api/\n\u251c\u2500\u2500 __init__.py\n\u251c\u2500\u2500 main.py              # FastAPI application\n\u251c\u2500\u2500 routes/              # API endpoints\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 optimize.py      # Optimization endpoint\n\u2502   \u251c\u2500\u2500 forecast.py      # Forecast endpoint\n\u2502   \u2514\u2500\u2500 explain.py       # Explainability endpoint\n\u251c\u2500\u2500 models/              # Pydantic schemas\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 requests.py      # Request models\n\u2502   \u2514\u2500\u2500 responses.py     # Response models\n\u2514\u2500\u2500 utils.py             # API utilities\n</code></pre> <p>Responsibilities: - Define REST endpoints - Validate requests/responses - Handle authentication (future) - Manage API versioning</p>"},{"location":"developer/structure/#utils-module-srcutils","title":"Utils Module (<code>src/utils/</code>)","text":"<pre><code>src/utils/\n\u251c\u2500\u2500 __init__.py\n\u251c\u2500\u2500 config.py            # Configuration loading\n\u251c\u2500\u2500 logging.py           # Logging setup\n\u2514\u2500\u2500 metrics.py           # KPI calculations\n</code></pre> <p>Responsibilities: - Load configuration files - Set up logging - Common utility functions - KPI calculations</p>"},{"location":"developer/structure/#import-conventions","title":"Import Conventions","text":"<pre><code># Standard library\nimport logging\nfrom pathlib import Path\nfrom typing import Dict, List, Optional\n\n# Third-party\nimport pandas as pd\nimport numpy as np\nfrom fastapi import APIRouter\n\n# Local imports\nfrom src.utils.config import load_config\nfrom src.forecasting.models.xgboost_model import XGBoostForecastModel\n</code></pre>"},{"location":"developer/structure/#module-dependencies","title":"Module Dependencies","text":"<pre><code>graph TD\n    API[api] --&gt; OPT[optimization]\n    API --&gt; FORE[forecasting]\n    API --&gt; RISK[risk]\n\n    OPT --&gt; UTILS[utils]\n    FORE --&gt; UTILS\n    RISK --&gt; UTILS\n\n    OPT --&gt; DATA[data]\n    FORE --&gt; DATA\n    RISK --&gt; DATA\n\n    DATA --&gt; UTILS</code></pre>"},{"location":"developer/structure/#configuration-files","title":"Configuration Files","text":"File Purpose <code>config/config.yaml</code> Main configuration <code>config/constraints/*.json</code> Constraint definitions <code>pyproject.toml</code> Package metadata, tools <code>mkdocs.yml</code> Documentation config <code>.pre-commit-config.yaml</code> Code quality hooks"},{"location":"developer/structure/#next-steps","title":"Next Steps","text":"<ul> <li>Contributing - How to contribute</li> <li>Testing - Testing guide</li> <li>Code Style - Coding standards</li> </ul>"},{"location":"developer/testing/","title":"Testing Guide","text":"<p>Comprehensive guide to testing the Fleet Decision Platform.</p>"},{"location":"developer/testing/#testing-stack","title":"Testing Stack","text":"Tool Purpose pytest Test framework pytest-cov Coverage reporting pytest-asyncio Async test support httpx API testing"},{"location":"developer/testing/#running-tests","title":"Running Tests","text":""},{"location":"developer/testing/#all-tests","title":"All Tests","text":"<pre><code># Run all tests\nuv run pytest\n\n# Verbose output\nuv run pytest -v\n\n# With coverage\nuv run pytest --cov=src --cov-report=html\n</code></pre>"},{"location":"developer/testing/#specific-tests","title":"Specific Tests","text":"<pre><code># Single file\nuv run pytest tests/unit/test_forecasting.py\n\n# Single test\nuv run pytest tests/unit/test_forecasting.py::test_model_fit\n\n# By marker\nuv run pytest -m unit\nuv run pytest -m integration\nuv run pytest -m \"not slow\"\n</code></pre>"},{"location":"developer/testing/#test-structure","title":"Test Structure","text":"<pre><code>tests/\n\u251c\u2500\u2500 __init__.py\n\u251c\u2500\u2500 conftest.py           # Shared fixtures\n\u251c\u2500\u2500 fixtures/             # Test data files\n\u2502   \u2514\u2500\u2500 sample_data.json\n\u251c\u2500\u2500 unit/                 # Unit tests\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 test_forecasting.py\n\u2502   \u251c\u2500\u2500 test_optimization.py\n\u2502   \u2514\u2500\u2500 test_risk.py\n\u2514\u2500\u2500 integration/          # Integration tests\n    \u251c\u2500\u2500 __init__.py\n    \u2514\u2500\u2500 test_pipeline.py\n</code></pre>"},{"location":"developer/testing/#writing-tests","title":"Writing Tests","text":""},{"location":"developer/testing/#unit-test-example","title":"Unit Test Example","text":"<pre><code># tests/unit/test_forecasting.py\nimport pytest\nimport numpy as np\nimport pandas as pd\n\nfrom src.forecasting.models.xgboost_model import XGBoostForecastModel\n\n\nclass TestXGBoostModel:\n    \"\"\"Tests for XGBoost forecasting model.\"\"\"\n\n    def test_model_initialization(self, sample_config):\n        \"\"\"Test model initializes with config.\"\"\"\n        model = XGBoostForecastModel(sample_config)\n\n        assert model.config == sample_config\n        assert model.model is None\n        assert model.is_fitted is False\n\n    def test_model_fit(self, sample_config, sample_features):\n        \"\"\"Test model training.\"\"\"\n        model = XGBoostForecastModel(sample_config)\n        X, y = sample_features\n\n        model.fit(X, y)\n\n        assert model.is_fitted is True\n        assert model.model is not None\n\n    def test_model_predict(self, trained_model, sample_features):\n        \"\"\"Test model prediction.\"\"\"\n        X, y = sample_features\n\n        predictions = trained_model.predict(X)\n\n        assert isinstance(predictions, np.ndarray)\n        assert len(predictions) == len(y)\n        assert all(p &gt;= 0 for p in predictions)\n\n    def test_model_predict_untrained_raises(self, sample_config, sample_features):\n        \"\"\"Test that predicting with untrained model raises error.\"\"\"\n        model = XGBoostForecastModel(sample_config)\n        X, _ = sample_features\n\n        with pytest.raises(RuntimeError, match=\"not fitted\"):\n            model.predict(X)\n</code></pre>"},{"location":"developer/testing/#integration-test-example","title":"Integration Test Example","text":"<pre><code># tests/integration/test_pipeline.py\nimport pytest\n\nfrom src.utils.config import load_config\nfrom src.data.ingestion import DataIngestion\nfrom src.forecasting import DemandPredictor\nfrom src.optimization import CascadingOptimizer\n\n\n@pytest.mark.integration\nclass TestPipeline:\n    \"\"\"Integration tests for full pipeline.\"\"\"\n\n    def test_end_to_end_pipeline(self, temp_data_dir):\n        \"\"\"Test complete pipeline from data to optimization.\"\"\"\n        # Load config\n        config = load_config(\"config/config.yaml\")\n\n        # Generate test data\n        from scripts.generate_fleet import (\n            generate_fleet_state,\n            generate_network_costs\n        )\n        fleet_state = generate_fleet_state(num_vehicles=10)\n        network_costs = generate_network_costs(num_locations=3)\n\n        # Create mock forecasts\n        forecasts = {\n            \"1\": [10, 12, 15, 18, 15, 12, 10],\n            \"2\": [8, 10, 12, 14, 12, 10, 8],\n            \"3\": [5, 6, 8, 10, 8, 6, 5],\n        }\n\n        # Run optimization\n        optimizer = CascadingOptimizer(config)\n        result = optimizer.optimize(\n            demand_forecast=forecasts,\n            fleet_state=fleet_state,\n            network_costs=network_costs\n        )\n\n        # Verify results\n        assert result.status == \"success\"\n        assert result.total_cost &gt;= 0\n        assert len(result.allocation_plan) &gt; 0\n        assert 0 &lt;= result.kpis[\"demand_coverage\"] &lt;= 1\n</code></pre>"},{"location":"developer/testing/#api-test-example","title":"API Test Example","text":"<pre><code># tests/integration/test_api.py\nimport pytest\nfrom fastapi.testclient import TestClient\n\nfrom src.api.main import app\n\n\n@pytest.fixture\ndef client():\n    \"\"\"Create test client.\"\"\"\n    return TestClient(app)\n\n\nclass TestAPIEndpoints:\n    \"\"\"Tests for API endpoints.\"\"\"\n\n    def test_health_check(self, client):\n        \"\"\"Test health endpoint.\"\"\"\n        response = client.get(\"/health\")\n\n        assert response.status_code == 200\n        assert response.json() == {\"status\": \"healthy\"}\n\n    def test_optimization_endpoint(self, client):\n        \"\"\"Test optimization endpoint.\"\"\"\n        request_data = {\n            \"demand_forecast\": {\n                \"1\": [10, 15, 20],\n                \"2\": [8, 12, 16]\n            },\n            \"fleet_state\": {\n                \"vehicles\": [\n                    {\"id\": \"V001\", \"location\": 1, \"capacity\": 1}\n                ]\n            },\n            \"constraints\": {\n                \"max_distance\": 100\n            }\n        }\n\n        response = client.post(\"/api/v1/optimize\", json=request_data)\n\n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"status\"] == \"success\"\n        assert \"allocation_plan\" in data[\"data\"]\n</code></pre>"},{"location":"developer/testing/#fixtures","title":"Fixtures","text":""},{"location":"developer/testing/#shared-fixtures-conftestpy","title":"Shared Fixtures (conftest.py)","text":"<pre><code># tests/conftest.py\nimport pytest\nimport pandas as pd\nimport numpy as np\n\n\n@pytest.fixture\ndef sample_config():\n    \"\"\"Sample configuration for testing.\"\"\"\n    return {\n        \"forecasting\": {\n            \"model\": \"xgboost\",\n            \"xgboost\": {\n                \"n_estimators\": 10,\n                \"max_depth\": 3\n            }\n        }\n    }\n\n\n@pytest.fixture\ndef sample_features():\n    \"\"\"Sample feature data for testing.\"\"\"\n    np.random.seed(42)\n    n_samples = 100\n\n    X = pd.DataFrame({\n        \"hour\": np.random.randint(0, 24, n_samples),\n        \"day_of_week\": np.random.randint(0, 7, n_samples),\n        \"lag_1h\": np.random.rand(n_samples) * 20\n    })\n    y = np.random.poisson(10, n_samples).astype(float)\n\n    return X, y\n\n\n@pytest.fixture\ndef trained_model(sample_config, sample_features):\n    \"\"\"Pre-trained model for testing.\"\"\"\n    from src.forecasting.models.xgboost_model import XGBoostForecastModel\n\n    model = XGBoostForecastModel(sample_config)\n    X, y = sample_features\n    model.fit(X, y)\n\n    return model\n</code></pre>"},{"location":"developer/testing/#test-markers","title":"Test Markers","text":"<pre><code># pytest.ini (in pyproject.toml)\n[tool.pytest.ini_options]\nmarkers = [\n    \"unit: marks tests as unit tests\",\n    \"integration: marks tests as integration tests\",\n    \"slow: marks tests as slow\",\n]\n</code></pre> <p>Usage:</p> <pre><code>@pytest.mark.unit\ndef test_fast_function():\n    pass\n\n@pytest.mark.integration\ndef test_full_pipeline():\n    pass\n\n@pytest.mark.slow\ndef test_large_optimization():\n    pass\n</code></pre>"},{"location":"developer/testing/#coverage","title":"Coverage","text":""},{"location":"developer/testing/#generate-coverage-report","title":"Generate Coverage Report","text":"<pre><code># Terminal report\nuv run pytest --cov=src --cov-report=term\n\n# HTML report\nuv run pytest --cov=src --cov-report=html\nopen htmlcov/index.html\n</code></pre>"},{"location":"developer/testing/#coverage-targets","title":"Coverage Targets","text":"Module Target <code>src/utils/</code> &gt; 90% <code>src/data/</code> &gt; 80% <code>src/forecasting/</code> &gt; 80% <code>src/optimization/</code> &gt; 75% <code>src/api/</code> &gt; 85%"},{"location":"developer/testing/#best-practices","title":"Best Practices","text":"<p>Test Isolation</p> <ul> <li>Each test should be independent</li> <li>Use fixtures for setup/teardown</li> <li>Don't share state between tests</li> </ul> <p>Test Naming</p> <ul> <li>Use descriptive names: <code>test_model_predict_with_empty_input_raises_error</code></li> <li>Follow pattern: <code>test_&lt;function&gt;_&lt;scenario&gt;_&lt;expected_result&gt;</code></li> </ul> <p>Test Data</p> <ul> <li>Use small, focused datasets</li> <li>Generate data in fixtures</li> <li>Avoid external dependencies</li> </ul>"},{"location":"developer/testing/#next-steps","title":"Next Steps","text":"<ul> <li>Code Style - Coding standards</li> <li>Contributing - How to contribute</li> <li>Project Structure - Codebase organization</li> </ul>"},{"location":"getting-started/","title":"Getting Started","text":"<p>Welcome to the Fleet Decision Platform! This guide will help you get up and running quickly.</p>"},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<p>Before you begin, ensure you have the following installed:</p> Requirement Version Purpose Python 3.9+ Runtime environment uv Latest Package management Git 2.0+ Version control PostgreSQL 15+ Database (optional for MVP)"},{"location":"getting-started/#installation-methods","title":"Installation Methods","text":"Quick Install (Recommended)Development InstallDocker (Phase 4) <pre><code># Clone and install\ngit clone https://github.com/yourusername/fleet-cascade.git\ncd fleet-cascade\nuv sync\n</code></pre> <pre><code># Clone and install with dev dependencies\ngit clone https://github.com/yourusername/fleet-cascade.git\ncd fleet-cascade\nuv sync --all-extras\nuv run pre-commit install\n</code></pre> <pre><code># Build and run with Docker\ndocker-compose up -d\n</code></pre>"},{"location":"getting-started/#whats-next","title":"What's Next?","text":"<ul> <li> <p> Installation</p> <p>Detailed installation instructions for all platforms.</p> <p> Installation Guide</p> </li> <li> <p> Quick Start</p> <p>Run your first optimization in minutes.</p> <p> Quick Start</p> </li> <li> <p> Configuration</p> <p>Customize the platform for your needs.</p> <p> Configuration</p> </li> </ul>"},{"location":"getting-started/#need-help","title":"Need Help?","text":"<p>If you run into issues:</p> <ol> <li>Check the Troubleshooting Guide</li> <li>Search GitHub Issues</li> <li>Ask in Discussions</li> </ol>"},{"location":"getting-started/configuration/","title":"Configuration","text":"<p>The Fleet Decision Platform is highly configurable through YAML files and environment variables.</p>"},{"location":"getting-started/configuration/#configuration-files","title":"Configuration Files","text":"File Purpose <code>config/config.yaml</code> Main configuration <code>config/constraints/fleet_constraints.json</code> Fleet operational constraints <code>.env</code> Environment variables (secrets)"},{"location":"getting-started/configuration/#main-configuration","title":"Main Configuration","text":"<p>The primary configuration file is <code>config/config.yaml</code>:</p> config/config.yaml<pre><code># Data sources\ndata:\n  nyc_taxi:\n    path: \"data/raw/nyc_taxi\"\n    zones: [4, 12, 13, 68, 79]  # NYC taxi zones\n    time_range: \"2023-01-01:2023-03-31\"\n    aggregation: \"hourly\"\n\n  fleet:\n    num_vehicles: 50\n    locations: 5\n    simulation_seed: 42\n\n# Forecasting settings\nforecasting:\n  model: \"xgboost\"  # Options: xgboost, prophet, tft\n  horizon_days: 7\n  features:\n    - hour\n    - day_of_week\n    - month\n    - is_weekend\n\n# Optimization settings\noptimization:\n  solver: \"ortools\"  # Options: ortools, pulp\n  stages:\n    - min_cost_flow\n  constraints:\n    max_distance: 100\n    capacity_per_vehicle: 1\n    min_service_level: 0.95\n</code></pre>"},{"location":"getting-started/configuration/#configuration-sections","title":"Configuration Sections","text":""},{"location":"getting-started/configuration/#data-configuration","title":"Data Configuration","text":"<p>Controls data sources and processing:</p> <pre><code>data:\n  nyc_taxi:\n    path: \"data/raw/nyc_taxi\"    # Data location\n    zones: [4, 12, 13, 68, 79]   # Taxi zones to use\n    time_range: \"2023-01-01:2023-03-31\"  # Date range\n    aggregation: \"hourly\"         # hourly or daily\n\n  fleet:\n    num_vehicles: 50              # Total fleet size\n    locations: 5                  # Number of zones\n    capacity_per_vehicle: 1       # Passengers per vehicle\n    simulation_seed: 42           # For reproducibility\n</code></pre>"},{"location":"getting-started/configuration/#forecasting-configuration","title":"Forecasting Configuration","text":"<p>Controls demand forecasting models:</p> <pre><code>forecasting:\n  model: \"xgboost\"    # Model type\n  horizon_days: 7     # Forecast horizon\n\n  features:           # Features for model\n    - hour\n    - day_of_week\n    - month\n    - is_weekend\n    - lag_1h\n    - lag_24h\n\n  xgboost:            # XGBoost hyperparameters\n    n_estimators: 100\n    max_depth: 6\n    learning_rate: 0.1\n</code></pre>"},{"location":"getting-started/configuration/#optimization-configuration","title":"Optimization Configuration","text":"<p>Controls the optimization engine:</p> <pre><code>optimization:\n  solver: \"ortools\"   # Solver library\n\n  stages:             # Optimization stages\n    - min_cost_flow   # MVP: single stage\n    # - critical_demand  # Phase 2+\n    # - milp_refinement  # Phase 4\n\n  constraints:\n    max_distance: 100           # Max rebalancing distance\n    capacity_per_vehicle: 1     # Vehicle capacity\n    min_service_level: 0.95     # 95% demand coverage\n\n  solver_settings:\n    time_limit_seconds: 60      # Solver timeout\n    optimality_gap: 0.01        # 1% gap tolerance\n</code></pre>"},{"location":"getting-started/configuration/#api-configuration","title":"API Configuration","text":"<p>Controls the FastAPI server:</p> <pre><code>api:\n  host: \"0.0.0.0\"\n  port: 8000\n  debug: true\n  reload: true\n\n  cors:\n    allow_origins: [\"*\"]\n    allow_methods: [\"*\"]\n    allow_headers: [\"*\"]\n</code></pre>"},{"location":"getting-started/configuration/#logging-configuration","title":"Logging Configuration","text":"<p>Controls logging behavior:</p> <pre><code>logging:\n  level: \"INFO\"       # DEBUG, INFO, WARNING, ERROR\n  format: \"text\"      # text (dev) or json (prod)\n\n  file:\n    enabled: false\n    path: \"logs/fleet_cascade.log\"\n</code></pre>"},{"location":"getting-started/configuration/#environment-variables","title":"Environment Variables","text":"<p>Sensitive configuration uses environment variables in <code>.env</code>:</p> .env<pre><code># Kaggle API\nKAGGLE_USERNAME=your_username\nKAGGLE_KEY=your_api_key\n\n# Database\nPOSTGRES_HOST=localhost\nPOSTGRES_PORT=5432\nPOSTGRES_DB=fleet_db\nPOSTGRES_USER=fleet_user\nPOSTGRES_PASSWORD=secure_password\n\n# API\nAPI_DEBUG=true\nLOG_LEVEL=INFO\n</code></pre>"},{"location":"getting-started/configuration/#using-environment-variables-in-config","title":"Using Environment Variables in Config","text":"<p>Reference environment variables with <code>${VAR_NAME}</code>:</p> <pre><code>database:\n  postgresql:\n    host: \"${POSTGRES_HOST}\"\n    password: \"${POSTGRES_PASSWORD}\"\n</code></pre>"},{"location":"getting-started/configuration/#constraint-configuration","title":"Constraint Configuration","text":"<p>Fleet constraints in <code>config/constraints/fleet_constraints.json</code>:</p> config/constraints/fleet_constraints.json<pre><code>{\n  \"capacity_constraints\": {\n    \"max_vehicles_per_location\": 20,\n    \"min_vehicles_per_location\": 2,\n    \"total_fleet_size\": 50\n  },\n  \"operational_constraints\": {\n    \"max_rebalancing_distance_km\": 100,\n    \"max_daily_trips_per_vehicle\": 10\n  },\n  \"service_level_constraints\": {\n    \"min_demand_coverage\": 0.95,\n    \"max_wait_time_minutes\": 15\n  },\n  \"cost_constraints\": {\n    \"max_rebalancing_cost_per_day\": 10000,\n    \"cost_per_km\": 0.5\n  }\n}\n</code></pre>"},{"location":"getting-started/configuration/#configuration-profiles","title":"Configuration Profiles","text":"<p>Use different configurations for different environments:</p> DevelopmentProduction config/config.yaml<pre><code>api:\n  debug: true\n  reload: true\nlogging:\n  level: \"DEBUG\"\n  format: \"text\"\n</code></pre> config/config.prod.yaml<pre><code>api:\n  debug: false\n  reload: false\nlogging:\n  level: \"INFO\"\n  format: \"json\"\n</code></pre> <p>Load different configs:</p> <pre><code>from src.utils.config import load_config\n\n# Development (default)\nconfig = load_config(\"config/config.yaml\")\n\n# Production\nconfig = load_config(\"config/config.prod.yaml\")\n</code></pre>"},{"location":"getting-started/configuration/#validating-configuration","title":"Validating Configuration","text":"<p>Check your configuration is valid:</p> <pre><code>uv run python -c \"\nfrom src.utils.config import load_config\nconfig = load_config()\nprint('\u2713 Configuration is valid')\nprint(f'  Zones: {config[\\\"data\\\"][\\\"nyc_taxi\\\"][\\\"zones\\\"]}')\nprint(f'  Model: {config[\\\"forecasting\\\"][\\\"model\\\"]}')\nprint(f'  Solver: {config[\\\"optimization\\\"][\\\"solver\\\"]}')\n\"\n</code></pre>"},{"location":"getting-started/configuration/#best-practices","title":"Best Practices","text":"<p>Configuration Best Practices</p> <ol> <li>Never hardcode - Always use config files</li> <li>Use environment variables for secrets</li> <li>Version control config files (except <code>.env</code>)</li> <li>Document custom configuration options</li> <li>Validate configuration at startup</li> </ol>"},{"location":"getting-started/configuration/#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start - Run the platform</li> <li>Architecture - Understand the system</li> <li>API Reference - Explore endpoints</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>This guide covers detailed installation instructions for the Fleet Decision Platform.</p>"},{"location":"getting-started/installation/#system-requirements","title":"System Requirements","text":""},{"location":"getting-started/installation/#minimum-requirements","title":"Minimum Requirements","text":"Component Requirement CPU 2 cores RAM 4 GB Storage 10 GB OS macOS, Linux, Windows (WSL2)"},{"location":"getting-started/installation/#recommended-for-production","title":"Recommended for Production","text":"Component Requirement CPU 8+ cores RAM 16+ GB Storage 100+ GB SSD OS Ubuntu 22.04 LTS"},{"location":"getting-started/installation/#step-1-install-prerequisites","title":"Step 1: Install Prerequisites","text":"macOSUbuntu/DebianWindows (WSL2) <pre><code># Install Homebrew (if not installed)\n/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"\n\n# Install Python and uv\nbrew install python@3.12\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n\n# Install PostgreSQL (optional)\nbrew install postgresql@15\n</code></pre> <pre><code># Update system\nsudo apt update &amp;&amp; sudo apt upgrade -y\n\n# Install Python\nsudo apt install python3.12 python3.12-venv python3-pip -y\n\n# Install uv\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n\n# Install PostgreSQL (optional)\nsudo apt install postgresql postgresql-contrib -y\n</code></pre> <pre><code># Install WSL2 (in PowerShell as Admin)\nwsl --install -d Ubuntu-22.04\n\n# Then follow Ubuntu instructions inside WSL\n</code></pre>"},{"location":"getting-started/installation/#step-2-clone-repository","title":"Step 2: Clone Repository","text":"<pre><code># Clone via HTTPS\ngit clone https://github.com/yourusername/fleet-cascade.git\n\n# Or clone via SSH\ngit clone git@github.com:yourusername/fleet-cascade.git\n\n# Navigate to project\ncd fleet-cascade\n</code></pre>"},{"location":"getting-started/installation/#step-3-install-dependencies","title":"Step 3: Install Dependencies","text":"<pre><code># Install production dependencies\nuv sync\n\n# Verify installation\nuv run python -c \"import src; print(f'Version: {src.__version__}')\"\n</code></pre>"},{"location":"getting-started/installation/#optional-install-development-dependencies","title":"Optional: Install Development Dependencies","text":"<pre><code># Install all optional dependencies\nuv sync --all-extras\n\n# Set up pre-commit hooks\nuv run pre-commit install\n</code></pre>"},{"location":"getting-started/installation/#step-4-configure-environment","title":"Step 4: Configure Environment","text":"<pre><code># Copy environment template\ncp .env.example .env\n\n# Edit with your credentials\nnano .env  # or use your preferred editor\n</code></pre>"},{"location":"getting-started/installation/#required-environment-variables","title":"Required Environment Variables","text":"Variable Description Required <code>KAGGLE_USERNAME</code> Kaggle API username For data download <code>KAGGLE_KEY</code> Kaggle API key For data download <code>POSTGRES_*</code> Database credentials Phase 2+"},{"location":"getting-started/installation/#step-5-verify-installation","title":"Step 5: Verify Installation","text":"<pre><code># Run health check\nuv run python -c \"\nfrom src.utils.config import load_config\nconfig = load_config()\nprint('\u2713 Configuration loaded')\nprint(f'  Forecasting model: {config[\\\"forecasting\\\"][\\\"model\\\"]}')\nprint(f'  Optimization solver: {config[\\\"optimization\\\"][\\\"solver\\\"]}')\n\"\n\n# Run tests\nuv run pytest tests/ -v --tb=short\n</code></pre>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":"uv command not found <p>Ensure uv is in your PATH: <pre><code>export PATH=\"$HOME/.cargo/bin:$PATH\"\n</code></pre> Add this to your <code>~/.bashrc</code> or <code>~/.zshrc</code>.</p> Python version mismatch <p>Check your Python version: <pre><code>python --version  # Should be 3.9+\n</code></pre> If needed, install Python 3.12 and set as default.</p> Permission denied errors <p>Ensure you have write access to the project directory: <pre><code>sudo chown -R $USER:$USER /path/to/fleet-cascade\n</code></pre></p>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start Guide - Run your first optimization</li> <li>Configuration Guide - Customize settings</li> <li>Download Data - Get sample datasets</li> </ul>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":"<p>Get the Fleet Decision Platform running in under 5 minutes!</p>"},{"location":"getting-started/quickstart/#tldr","title":"TL;DR","text":"<pre><code># One-liner setup\ngit clone https://github.com/yourusername/fleet-cascade.git &amp;&amp; cd fleet-cascade &amp;&amp; uv sync &amp;&amp; make run\n</code></pre> <p>Then visit http://localhost:8000/docs for the API documentation.</p>"},{"location":"getting-started/quickstart/#step-by-step-guide","title":"Step-by-Step Guide","text":""},{"location":"getting-started/quickstart/#1-generate-sample-data","title":"1. Generate Sample Data","text":"<p>Since downloading real data requires Kaggle credentials, let's start with simulated data:</p> <pre><code># Generate fleet state and network costs\nuv run python scripts/generate_fleet.py\n\n# Output:\n# Fleet state saved to: data/processed/fleet_state/fleet_state.parquet\n# Network costs saved to: data/processed/fleet_state/network_costs.npy\n# Location metadata saved to: data/processed/fleet_state/locations.parquet\n</code></pre>"},{"location":"getting-started/quickstart/#2-start-the-api-server","title":"2. Start the API Server","text":"<pre><code># Start development server\nmake run\n\n# Or directly with uvicorn\nuv run uvicorn src.api.main:app --reload --port 8000\n</code></pre> <p>You should see:</p> <pre><code>INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)\nINFO:     Started reloader process\nINFO:     Starting Fleet Decision Platform API\n</code></pre>"},{"location":"getting-started/quickstart/#3-explore-the-api","title":"3. Explore the API","text":"<p>Open your browser to http://localhost:8000/docs to see the interactive API documentation.</p> <p></p>"},{"location":"getting-started/quickstart/#4-make-your-first-api-call","title":"4. Make Your First API Call","text":"cURLPythonHTTPie <pre><code># Health check\ncurl http://localhost:8000/health\n\n# Get configuration\ncurl http://localhost:8000/api/v1/config\n</code></pre> <pre><code>import httpx\n\n# Health check\nresponse = httpx.get(\"http://localhost:8000/health\")\nprint(response.json())\n# {\"status\": \"healthy\"}\n\n# Get configuration\nresponse = httpx.get(\"http://localhost:8000/api/v1/config\")\nprint(response.json())\n</code></pre> <pre><code># Health check\nhttp GET localhost:8000/health\n\n# Get configuration\nhttp GET localhost:8000/api/v1/config\n</code></pre>"},{"location":"getting-started/quickstart/#download-data","title":"5. Download Real Data (Optional)","text":"<p>To use real NYC Taxi data:</p> <pre><code># Set up Kaggle credentials first\n# Get your API key from: https://www.kaggle.com/settings\n\n# Option 1: Environment variables\nexport KAGGLE_USERNAME=your_username\nexport KAGGLE_KEY=your_api_key\n\n# Option 2: Kaggle config file\nmkdir -p ~/.kaggle\necho '{\"username\":\"your_username\",\"key\":\"your_api_key\"}' &gt; ~/.kaggle/kaggle.json\nchmod 600 ~/.kaggle/kaggle.json\n\n# Download datasets\nuv run python scripts/download_data.py\n</code></pre>"},{"location":"getting-started/quickstart/#whats-happening","title":"What's Happening?","text":"<p>Here's what the platform does when you start it:</p> <pre><code>sequenceDiagram\n    participant User\n    participant API\n    participant Config\n    participant Logger\n\n    User-&gt;&gt;API: Start server\n    API-&gt;&gt;Config: Load config.yaml\n    Config--&gt;&gt;API: Configuration dict\n    API-&gt;&gt;Logger: Setup logging\n    Logger--&gt;&gt;API: Logger ready\n    API--&gt;&gt;User: Server running on :8000</code></pre>"},{"location":"getting-started/quickstart/#available-make-commands","title":"Available Make Commands","text":"<pre><code>make help          # Show all commands\nmake run           # Start API server\nmake test          # Run tests\nmake lint          # Check code style\nmake format        # Format code\nmake download      # Download datasets\nmake generate-fleet # Generate simulated data\nmake docs          # Serve documentation\n</code></pre>"},{"location":"getting-started/quickstart/#common-issues","title":"Common Issues","text":"Port 8000 already in use <pre><code># Find and kill the process\nlsof -i :8000\nkill -9 &lt;PID&gt;\n\n# Or use a different port\nuv run uvicorn src.api.main:app --port 8001\n</code></pre> Module not found errors <p>Ensure you've installed the package: <pre><code>uv sync\n</code></pre></p>"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":"<p>Now that you have the platform running:</p> <ol> <li>Configure the Platform - Customize settings for your use case</li> <li>Understand the Architecture - Learn how components interact</li> <li>Explore the API - Full API reference</li> <li>User Guide - Detailed usage instructions</li> </ol>"},{"location":"operations/","title":"Operations Guide","text":"<p>Guide for deploying, monitoring, and maintaining the Fleet Decision Platform.</p>"},{"location":"operations/#overview","title":"Overview","text":"<p>This guide covers:</p> <ul> <li>Deployment - How to deploy the platform</li> <li>Monitoring - Observability and alerting</li> <li>Troubleshooting - Common issues and solutions</li> </ul> <ul> <li> <p> Deployment</p> <p>Deploy to production environments.</p> <p> Deployment</p> </li> <li> <p> Monitoring</p> <p>Monitor health and performance.</p> <p> Monitoring</p> </li> <li> <p> Troubleshooting</p> <p>Diagnose and resolve issues.</p> <p> Troubleshooting</p> </li> </ul>"},{"location":"operations/#quick-reference","title":"Quick Reference","text":""},{"location":"operations/#health-check","title":"Health Check","text":"<pre><code>curl http://localhost:8000/health\n</code></pre>"},{"location":"operations/#view-logs","title":"View Logs","text":"<pre><code># Follow application logs\ntail -f logs/fleet_cascade.log\n\n# Filter error logs\ngrep \"ERROR\" logs/fleet_cascade.log\n</code></pre>"},{"location":"operations/#restart-services","title":"Restart Services","text":"<pre><code># Restart API server\nmake restart\n\n# Restart with clean state\nmake clean-restart\n</code></pre>"},{"location":"operations/#environment-checklist","title":"Environment Checklist","text":""},{"location":"operations/#development","title":"Development","text":"<ul> <li> Python 3.9+ installed</li> <li> <code>uv</code> package manager</li> <li> Pre-commit hooks installed</li> <li> Local configuration (<code>.env</code>)</li> </ul>"},{"location":"operations/#staging","title":"Staging","text":"<ul> <li> Docker/containers set up</li> <li> PostgreSQL database</li> <li> Redis cache (optional)</li> <li> Environment variables configured</li> </ul>"},{"location":"operations/#production","title":"Production","text":"<ul> <li> Load balancer configured</li> <li> SSL/TLS certificates</li> <li> Database backups</li> <li> Monitoring and alerting</li> <li> Log aggregation</li> <li> Auto-scaling (optional)</li> </ul>"},{"location":"operations/#system-requirements","title":"System Requirements","text":""},{"location":"operations/#minimum-development","title":"Minimum (Development)","text":"Component Requirement CPU 2 cores RAM 4 GB Storage 10 GB"},{"location":"operations/#recommended-production","title":"Recommended (Production)","text":"Component Requirement CPU 8+ cores RAM 16+ GB Storage 100+ GB SSD Network 1 Gbps"},{"location":"operations/#next-steps","title":"Next Steps","text":"<ul> <li>Deployment Guide - Production deployment</li> <li>Monitoring Guide - Set up observability</li> <li>Troubleshooting - Resolve issues</li> </ul>"},{"location":"operations/deployment/","title":"Deployment Guide","text":"<p>Deploy the Fleet Decision Platform to production environments.</p>"},{"location":"operations/deployment/#deployment-options","title":"Deployment Options","text":"Option Complexity Use Case Local/VM Low Development, testing Docker Medium Staging, small production Kubernetes High Large-scale production AWS ECS Medium Cloud-native deployment"},{"location":"operations/deployment/#local-deployment","title":"Local Deployment","text":""},{"location":"operations/deployment/#prerequisites","title":"Prerequisites","text":"<pre><code># Install dependencies\nuv sync\n\n# Configure environment\ncp .env.example .env\nnano .env\n</code></pre>"},{"location":"operations/deployment/#start-server","title":"Start Server","text":"<pre><code># Development mode\nmake run\n\n# Production mode\nuvicorn src.api.main:app --host 0.0.0.0 --port 8000 --workers 4\n</code></pre>"},{"location":"operations/deployment/#verify-deployment","title":"Verify Deployment","text":"<pre><code>curl http://localhost:8000/health\n# {\"status\": \"healthy\"}\n</code></pre>"},{"location":"operations/deployment/#docker-deployment","title":"Docker Deployment","text":""},{"location":"operations/deployment/#dockerfile","title":"Dockerfile","text":"<pre><code># docker/Dockerfile\nFROM python:3.12-slim\n\nWORKDIR /app\n\n# Install uv\nRUN pip install uv\n\n# Copy dependency files\nCOPY pyproject.toml uv.lock ./\n\n# Install dependencies\nRUN uv sync --no-dev\n\n# Copy source code\nCOPY src/ src/\nCOPY config/ config/\n\n# Expose port\nEXPOSE 8000\n\n# Run application\nCMD [\"uv\", \"run\", \"uvicorn\", \"src.api.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n</code></pre>"},{"location":"operations/deployment/#docker-compose","title":"Docker Compose","text":"<pre><code># docker-compose.yml\nversion: '3.8'\n\nservices:\n  api:\n    build:\n      context: .\n      dockerfile: docker/Dockerfile\n    ports:\n      - \"8000:8000\"\n    environment:\n      - LOG_LEVEL=INFO\n    volumes:\n      - ./config:/app/config:ro\n      - ./data:/app/data\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8000/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  postgres:\n    image: postgres:15-alpine\n    environment:\n      POSTGRES_DB: fleet_db\n      POSTGRES_USER: fleet_user\n      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    ports:\n      - \"5432:5432\"\n\n  redis:\n    image: redis:7-alpine\n    ports:\n      - \"6379:6379\"\n    volumes:\n      - redis_data:/data\n\nvolumes:\n  postgres_data:\n  redis_data:\n</code></pre>"},{"location":"operations/deployment/#deploy-with-docker","title":"Deploy with Docker","text":"<pre><code># Build and start\ndocker-compose up -d --build\n\n# View logs\ndocker-compose logs -f api\n\n# Stop services\ndocker-compose down\n</code></pre>"},{"location":"operations/deployment/#aws-deployment-phase-4","title":"AWS Deployment (Phase 4)","text":""},{"location":"operations/deployment/#architecture","title":"Architecture","text":"<pre><code>graph TB\n    subgraph AWS\n        ALB[Application Load Balancer]\n\n        subgraph ECS[ECS Cluster]\n            API1[API Container 1]\n            API2[API Container 2]\n        end\n\n        RDS[(RDS PostgreSQL)]\n        REDIS[(ElastiCache Redis)]\n        S3[(S3 Bucket)]\n    end\n\n    Users --&gt; ALB\n    ALB --&gt; API1\n    ALB --&gt; API2\n    API1 --&gt; RDS\n    API2 --&gt; RDS\n    API1 --&gt; REDIS\n    API2 --&gt; REDIS\n    API1 --&gt; S3\n    API2 --&gt; S3</code></pre>"},{"location":"operations/deployment/#aws-cli-commands","title":"AWS CLI Commands","text":"<pre><code># Push image to ECR\naws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin $ECR_URI\ndocker build -t fleet-cascade .\ndocker tag fleet-cascade:latest $ECR_URI/fleet-cascade:latest\ndocker push $ECR_URI/fleet-cascade:latest\n\n# Deploy to ECS\naws ecs update-service --cluster fleet-cluster --service fleet-api --force-new-deployment\n</code></pre>"},{"location":"operations/deployment/#environment-configuration","title":"Environment Configuration","text":""},{"location":"operations/deployment/#production-environment-variables","title":"Production Environment Variables","text":"<pre><code># .env.production\n# Database\nPOSTGRES_HOST=your-rds-endpoint.amazonaws.com\nPOSTGRES_DB=fleet_db\nPOSTGRES_USER=fleet_user\nPOSTGRES_PASSWORD=&lt;secure-password&gt;\n\n# Cache\nREDIS_HOST=your-elasticache-endpoint.amazonaws.com\nREDIS_PORT=6379\n\n# API\nAPP_HOST=0.0.0.0\nAPP_PORT=8000\nLOG_LEVEL=INFO\n\n# Security\nSECRET_KEY=&lt;generated-secret-key&gt;\n</code></pre>"},{"location":"operations/deployment/#secrets-management","title":"Secrets Management","text":"<pre><code># Store secrets in AWS Secrets Manager\naws secretsmanager create-secret \\\n  --name fleet-cascade/production \\\n  --secret-string '{\"POSTGRES_PASSWORD\":\"...\", \"SECRET_KEY\":\"...\"}'\n\n# Retrieve in application\nimport boto3\nsecrets = boto3.client('secretsmanager')\nsecret = secrets.get_secret_value(SecretId='fleet-cascade/production')\n</code></pre>"},{"location":"operations/deployment/#scaling","title":"Scaling","text":""},{"location":"operations/deployment/#horizontal-scaling","title":"Horizontal Scaling","text":"<pre><code># docker-compose.yml\nservices:\n  api:\n    deploy:\n      replicas: 4\n      resources:\n        limits:\n          cpus: '1'\n          memory: 2G\n</code></pre>"},{"location":"operations/deployment/#load-balancing","title":"Load Balancing","text":"<pre><code># nginx.conf\nupstream fleet_api {\n    least_conn;\n    server api1:8000;\n    server api2:8000;\n    server api3:8000;\n}\n\nserver {\n    listen 80;\n    location / {\n        proxy_pass http://fleet_api;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n    }\n}\n</code></pre>"},{"location":"operations/deployment/#security-checklist","title":"Security Checklist","text":"<ul> <li> HTTPS/TLS enabled</li> <li> API authentication configured</li> <li> Secrets in environment variables or secrets manager</li> <li> Database credentials secured</li> <li> Network security groups configured</li> <li> Input validation enabled</li> <li> Rate limiting configured</li> <li> CORS properly configured</li> </ul>"},{"location":"operations/deployment/#rollback-procedure","title":"Rollback Procedure","text":""},{"location":"operations/deployment/#docker","title":"Docker","text":"<pre><code># Rollback to previous version\ndocker-compose down\ndocker tag fleet-cascade:latest fleet-cascade:broken\ndocker tag fleet-cascade:previous fleet-cascade:latest\ndocker-compose up -d\n</code></pre>"},{"location":"operations/deployment/#aws-ecs","title":"AWS ECS","text":"<pre><code># Rollback to previous task definition\naws ecs update-service \\\n  --cluster fleet-cluster \\\n  --service fleet-api \\\n  --task-definition fleet-api:PREVIOUS_VERSION\n</code></pre>"},{"location":"operations/deployment/#next-steps","title":"Next Steps","text":"<ul> <li>Monitoring - Set up observability</li> <li>Troubleshooting - Resolve issues</li> </ul>"},{"location":"operations/monitoring/","title":"Monitoring Guide","text":"<p>Set up observability for the Fleet Decision Platform.</p>"},{"location":"operations/monitoring/#monitoring-stack","title":"Monitoring Stack","text":"Tool Purpose Phase Structured Logging Application logs MVP Health Endpoints Service health MVP Prometheus Metrics collection Phase 3 Grafana Visualization Phase 3 Sentry Error tracking Phase 3"},{"location":"operations/monitoring/#health-checks","title":"Health Checks","text":""},{"location":"operations/monitoring/#application-health","title":"Application Health","text":"<pre><code># Health endpoint\ncurl http://localhost:8000/health\n# {\"status\": \"healthy\"}\n\n# Detailed health (if implemented)\ncurl http://localhost:8000/health/detailed\n# {\n#   \"status\": \"healthy\",\n#   \"database\": \"connected\",\n#   \"cache\": \"connected\",\n#   \"models_loaded\": true\n# }\n</code></pre>"},{"location":"operations/monitoring/#docker-health-check","title":"Docker Health Check","text":"<pre><code># docker-compose.yml\nservices:\n  api:\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8000/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n      start_period: 40s\n</code></pre>"},{"location":"operations/monitoring/#logging","title":"Logging","text":""},{"location":"operations/monitoring/#structured-logging","title":"Structured Logging","text":"<pre><code>import structlog\n\nlogger = structlog.get_logger()\n\n# Info log with context\nlogger.info(\n    \"Optimization completed\",\n    request_id=\"req_123\",\n    duration_ms=1250,\n    total_cost=2450.00,\n    vehicles_rebalanced=12\n)\n\n# Error log\nlogger.error(\n    \"Optimization failed\",\n    request_id=\"req_124\",\n    error=\"Infeasible constraints\"\n)\n</code></pre>"},{"location":"operations/monitoring/#log-format-json","title":"Log Format (JSON)","text":"<pre><code>{\n  \"timestamp\": \"2024-01-15T10:30:00.000Z\",\n  \"level\": \"info\",\n  \"logger\": \"src.optimization.cascade\",\n  \"event\": \"Optimization completed\",\n  \"request_id\": \"req_123\",\n  \"duration_ms\": 1250,\n  \"total_cost\": 2450.00,\n  \"vehicles_rebalanced\": 12\n}\n</code></pre>"},{"location":"operations/monitoring/#log-levels","title":"Log Levels","text":"Level Usage DEBUG Detailed debugging info INFO Normal operations WARNING Recoverable issues ERROR Errors handled CRITICAL System failures"},{"location":"operations/monitoring/#log-configuration","title":"Log Configuration","text":"<pre><code># config/config.yaml\nlogging:\n  level: \"INFO\"\n  format: \"json\"  # text for development\n\n  handlers:\n    console:\n      enabled: true\n    file:\n      enabled: true\n      path: \"logs/fleet_cascade.log\"\n      rotation: \"daily\"\n      retention: 30\n</code></pre>"},{"location":"operations/monitoring/#metrics-phase-3","title":"Metrics (Phase 3+)","text":""},{"location":"operations/monitoring/#prometheus-metrics","title":"Prometheus Metrics","text":"<pre><code>from prometheus_client import Counter, Histogram, Gauge\n\n# Counters\noptimization_requests = Counter(\n    'fleet_optimization_requests_total',\n    'Total optimization requests',\n    ['status']\n)\n\n# Histograms\noptimization_duration = Histogram(\n    'fleet_optimization_duration_seconds',\n    'Optimization duration',\n    buckets=[0.1, 0.5, 1.0, 5.0, 10.0, 30.0, 60.0]\n)\n\n# Gauges\nfleet_utilization = Gauge(\n    'fleet_utilization_ratio',\n    'Current fleet utilization'\n)\n</code></pre>"},{"location":"operations/monitoring/#key-metrics","title":"Key Metrics","text":"Metric Type Description <code>requests_total</code> Counter Total API requests <code>request_duration_seconds</code> Histogram Request latency <code>optimization_cost</code> Histogram Optimization cost distribution <code>demand_coverage_ratio</code> Gauge Current demand coverage <code>fleet_utilization_ratio</code> Gauge Fleet utilization <code>error_total</code> Counter Total errors"},{"location":"operations/monitoring/#prometheus-configuration","title":"Prometheus Configuration","text":"<pre><code># prometheus.yml\nscrape_configs:\n  - job_name: 'fleet-cascade'\n    static_configs:\n      - targets: ['api:8000']\n    metrics_path: '/metrics'\n    scrape_interval: 15s\n</code></pre>"},{"location":"operations/monitoring/#dashboards-phase-3","title":"Dashboards (Phase 3+)","text":""},{"location":"operations/monitoring/#grafana-dashboard","title":"Grafana Dashboard","text":"<pre><code>{\n  \"dashboard\": {\n    \"title\": \"Fleet Decision Platform\",\n    \"panels\": [\n      {\n        \"title\": \"Request Rate\",\n        \"type\": \"graph\",\n        \"targets\": [\n          {\n            \"expr\": \"rate(fleet_requests_total[5m])\"\n          }\n        ]\n      },\n      {\n        \"title\": \"Optimization Duration P95\",\n        \"type\": \"stat\",\n        \"targets\": [\n          {\n            \"expr\": \"histogram_quantile(0.95, fleet_optimization_duration_seconds_bucket)\"\n          }\n        ]\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"operations/monitoring/#key-dashboard-panels","title":"Key Dashboard Panels","text":"<ol> <li>Request Metrics</li> <li>Request rate (req/sec)</li> <li>Error rate</li> <li> <p>P50/P95/P99 latency</p> </li> <li> <p>Business Metrics</p> </li> <li>Optimizations per hour</li> <li>Average cost savings</li> <li> <p>Demand coverage</p> </li> <li> <p>System Health</p> </li> <li>CPU/Memory usage</li> <li>Database connections</li> <li>Cache hit rate</li> </ol>"},{"location":"operations/monitoring/#alerting","title":"Alerting","text":""},{"location":"operations/monitoring/#alert-rules","title":"Alert Rules","text":"<pre><code># alerts.yml\ngroups:\n  - name: fleet-cascade\n    rules:\n      - alert: HighErrorRate\n        expr: rate(fleet_requests_total{status=\"error\"}[5m]) &gt; 0.1\n        for: 5m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"High error rate detected\"\n\n      - alert: OptimizationTimeout\n        expr: histogram_quantile(0.99, fleet_optimization_duration_seconds_bucket) &gt; 60\n        for: 5m\n        labels:\n          severity: critical\n        annotations:\n          summary: \"Optimization taking too long\"\n\n      - alert: LowDemandCoverage\n        expr: fleet_demand_coverage_ratio &lt; 0.9\n        for: 10m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"Demand coverage below threshold\"\n</code></pre>"},{"location":"operations/monitoring/#alert-channels","title":"Alert Channels","text":"<ul> <li>Slack</li> <li>PagerDuty</li> <li>Email</li> <li>Webhooks</li> </ul>"},{"location":"operations/monitoring/#error-tracking-phase-3","title":"Error Tracking (Phase 3+)","text":""},{"location":"operations/monitoring/#sentry-integration","title":"Sentry Integration","text":"<pre><code>import sentry_sdk\n\nsentry_sdk.init(\n    dsn=\"https://your-sentry-dsn\",\n    environment=\"production\",\n    traces_sample_rate=0.1\n)\n\n# Capture error with context\nwith sentry_sdk.push_scope() as scope:\n    scope.set_tag(\"module\", \"optimization\")\n    scope.set_context(\"request\", {\n        \"fleet_size\": 50,\n        \"locations\": 5\n    })\n    sentry_sdk.capture_exception(error)\n</code></pre>"},{"location":"operations/monitoring/#log-aggregation","title":"Log Aggregation","text":""},{"location":"operations/monitoring/#elk-stack","title":"ELK Stack","text":"<pre><code># docker-compose.yml (additions)\nservices:\n  elasticsearch:\n    image: elasticsearch:8.11.0\n    environment:\n      - discovery.type=single-node\n    ports:\n      - \"9200:9200\"\n\n  logstash:\n    image: logstash:8.11.0\n    volumes:\n      - ./logstash.conf:/usr/share/logstash/pipeline/logstash.conf\n\n  kibana:\n    image: kibana:8.11.0\n    ports:\n      - \"5601:5601\"\n</code></pre>"},{"location":"operations/monitoring/#monitoring-checklist","title":"Monitoring Checklist","text":"<ul> <li> Health endpoints working</li> <li> Structured logging enabled</li> <li> Log aggregation configured</li> <li> Metrics exposed (Phase 3)</li> <li> Dashboards created (Phase 3)</li> <li> Alerts configured (Phase 3)</li> <li> Error tracking enabled (Phase 3)</li> </ul>"},{"location":"operations/monitoring/#next-steps","title":"Next Steps","text":"<ul> <li>Troubleshooting - Resolve issues</li> <li>Deployment - Production deployment</li> </ul>"},{"location":"operations/troubleshooting/","title":"Troubleshooting Guide","text":"<p>Common issues and solutions for the Fleet Decision Platform.</p>"},{"location":"operations/troubleshooting/#quick-diagnostics","title":"Quick Diagnostics","text":"<pre><code># Check service health\ncurl http://localhost:8000/health\n\n# Check logs for errors\ngrep \"ERROR\" logs/fleet_cascade.log | tail -20\n\n# Check system resources\ntop -p $(pgrep -f uvicorn)\n\n# Check port availability\nlsof -i :8000\n</code></pre>"},{"location":"operations/troubleshooting/#common-issues","title":"Common Issues","text":""},{"location":"operations/troubleshooting/#installation-issues","title":"Installation Issues","text":"uv command not found <p>Cause: uv is not installed or not in PATH.</p> <p>Solution: <pre><code># Install uv\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n\n# Add to PATH\nexport PATH=\"$HOME/.cargo/bin:$PATH\"\n\n# Verify\nuv --version\n</code></pre></p> Python version mismatch <p>Cause: Wrong Python version installed.</p> <p>Solution: <pre><code># Check version\npython --version\n\n# Install correct version (macOS)\nbrew install python@3.12\n\n# Use specific version with uv\nuv sync --python 3.12\n</code></pre></p> Dependency resolution failed <p>Cause: Conflicting package versions.</p> <p>Solution: <pre><code># Clear cache and reinstall\nrm -rf .venv uv.lock\nuv sync\n</code></pre></p>"},{"location":"operations/troubleshooting/#startup-issues","title":"Startup Issues","text":"Port 8000 already in use <p>Cause: Another process is using the port.</p> <p>Solution: <pre><code># Find process using port\nlsof -i :8000\n\n# Kill the process\nkill -9 &lt;PID&gt;\n\n# Or use different port\nuvicorn src.api.main:app --port 8001\n</code></pre></p> Configuration file not found <p>Cause: Missing or misplaced config file.</p> <p>Solution: <pre><code># Check file exists\nls -la config/config.yaml\n\n# Create from template\ncp config/config.example.yaml config/config.yaml\n</code></pre></p> Environment variables not loaded <p>Cause: Missing .env file or incorrect format.</p> <p>Solution: <pre><code># Create .env file\ncp .env.example .env\n\n# Verify contents\ncat .env\n\n# Test loading\npython -c \"from dotenv import load_dotenv; load_dotenv(); import os; print(os.getenv('APP_PORT'))\"\n</code></pre></p>"},{"location":"operations/troubleshooting/#api-issues","title":"API Issues","text":"500 Internal Server Error <p>Cause: Unhandled exception in application.</p> <p>Solution: <pre><code># Check logs for traceback\ntail -100 logs/fleet_cascade.log | grep -A 10 \"ERROR\"\n\n# Enable debug mode for more details\nLOG_LEVEL=DEBUG make run\n</code></pre></p> 422 Validation Error <p>Cause: Invalid request body.</p> <p>Solution: <pre><code># Check request format against schema\ncurl http://localhost:8000/docs\n\n# Example valid request\ncurl -X POST http://localhost:8000/api/v1/optimize \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"demand_forecast\": {\"1\": [10]}, \"fleet_state\": {\"vehicles\": []}, \"constraints\": {}}'\n</code></pre></p> Timeout on optimization requests <p>Cause: Optimization taking too long.</p> <p>Solution: <pre><code># Increase timeout in config\noptimization:\n  solver_settings:\n    time_limit_seconds: 120  # Increase from 60\n    optimality_gap: 0.05    # Allow larger gap\n</code></pre></p>"},{"location":"operations/troubleshooting/#optimization-issues","title":"Optimization Issues","text":"Infeasible optimization problem <p>Cause: Constraints cannot be satisfied.</p> <p>Solution: <pre><code># Check constraint feasibility\ntotal_supply = sum(vehicles)\ntotal_demand = sum(demand_forecast)\n\nif total_supply &lt; total_demand * min_service_level:\n    print(\"Not enough vehicles to meet service level\")\n\n# Relax constraints\nconstraints = {\n    \"min_service_level\": 0.8,  # Lower from 0.95\n    \"max_distance\": 150         # Increase from 100\n}\n</code></pre></p> Suboptimal solutions <p>Cause: Solver time limit or gap tolerance too strict.</p> <p>Solution: <pre><code># Adjust solver settings\noptimization:\n  solver_settings:\n    time_limit_seconds: 300  # More time\n    optimality_gap: 0.01     # Tighter gap\n</code></pre></p> Optimization is very slow <p>Cause: Large problem size or inefficient formulation.</p> <p>Solution: <pre><code># Reduce problem size\n# - Aggregate locations\n# - Reduce time horizon\n# - Simplify constraints\n\n# Or use faster solver\noptimization:\n  solver: \"ortools\"  # Generally faster than PuLP\n</code></pre></p>"},{"location":"operations/troubleshooting/#data-issues","title":"Data Issues","text":"Kaggle download fails <p>Cause: Invalid or expired API credentials.</p> <p>Solution: <pre><code># Verify credentials\ncat ~/.kaggle/kaggle.json\n\n# Or set environment variables\nexport KAGGLE_USERNAME=your_username\nexport KAGGLE_KEY=your_api_key\n\n# Test connection\nkaggle datasets list -s test\n</code></pre></p> Model file not found <p>Cause: Model not trained or wrong path.</p> <p>Solution: <pre><code># Check model directory\nls -la data/models/\n\n# Train model if missing\nuv run python scripts/train_models.py\n</code></pre></p> Data type errors <p>Cause: Unexpected data format.</p> <p>Solution: <pre><code># Validate data before processing\nimport pandas as pd\n\ndf = pd.read_parquet(\"data/processed/demand.parquet\")\nprint(df.dtypes)\nprint(df.head())\n\n# Convert types if needed\ndf['demand'] = df['demand'].astype(float)\n</code></pre></p>"},{"location":"operations/troubleshooting/#database-issues","title":"Database Issues","text":"Cannot connect to PostgreSQL <p>Cause: Database not running or wrong credentials.</p> <p>Solution: <pre><code># Check if PostgreSQL is running\npg_isready -h localhost -p 5432\n\n# Test connection\npsql -h localhost -U fleet_user -d fleet_db -c \"SELECT 1\"\n\n# Check environment variables\necho $POSTGRES_HOST $POSTGRES_PORT $POSTGRES_USER\n</code></pre></p> Redis connection refused <p>Cause: Redis not running.</p> <p>Solution: <pre><code># Start Redis\ndocker run -d -p 6379:6379 redis:7-alpine\n\n# Or check if already running\nredis-cli ping\n# Should return: PONG\n</code></pre></p>"},{"location":"operations/troubleshooting/#debugging-techniques","title":"Debugging Techniques","text":""},{"location":"operations/troubleshooting/#enable-debug-logging","title":"Enable Debug Logging","text":"<pre><code># Set log level\nexport LOG_LEVEL=DEBUG\n\n# Or in config\nlogging:\n  level: \"DEBUG\"\n</code></pre>"},{"location":"operations/troubleshooting/#interactive-debugging","title":"Interactive Debugging","text":"<pre><code># Add breakpoint\nimport pdb; pdb.set_trace()\n\n# Or use ipdb (install first)\nimport ipdb; ipdb.set_trace()\n</code></pre>"},{"location":"operations/troubleshooting/#profile-performance","title":"Profile Performance","text":"<pre><code>import cProfile\nimport pstats\n\nprofiler = cProfile.Profile()\nprofiler.enable()\n\n# Your code here\nresult = optimizer.optimize(...)\n\nprofiler.disable()\nstats = pstats.Stats(profiler)\nstats.sort_stats('cumtime')\nstats.print_stats(20)\n</code></pre>"},{"location":"operations/troubleshooting/#getting-help","title":"Getting Help","text":"<ol> <li>Check Logs: <code>tail -f logs/fleet_cascade.log</code></li> <li>Search Issues: GitHub Issues</li> <li>Ask Community: GitHub Discussions</li> <li>Documentation: Review relevant guides</li> </ol>"},{"location":"operations/troubleshooting/#next-steps","title":"Next Steps","text":"<ul> <li>Monitoring - Set up observability</li> <li>Deployment - Production deployment</li> </ul>"},{"location":"reference/","title":"Reference Documentation","text":"<p>Complete reference for configuration, data formats, and constraints.</p> <ul> <li> <p> Configuration Options</p> <p>All configuration parameters explained.</p> <p> Configuration</p> </li> <li> <p> Data Formats</p> <p>Input and output data schemas.</p> <p> Data Formats</p> </li> <li> <p> Constraints</p> <p>Operational constraint definitions.</p> <p> Constraints</p> </li> <li> <p> Changelog</p> <p>Version history and changes.</p> <p> Changelog</p> </li> </ul>"},{"location":"reference/#quick-links","title":"Quick Links","text":""},{"location":"reference/#configuration-files","title":"Configuration Files","text":"File Description <code>config/config.yaml</code> Main configuration <code>config/constraints/fleet_constraints.json</code> Fleet constraints <code>.env</code> Environment variables <code>pyproject.toml</code> Package configuration"},{"location":"reference/#data-directories","title":"Data Directories","text":"Directory Contents <code>data/raw/</code> Downloaded raw data <code>data/processed/</code> Cleaned/transformed data <code>data/models/</code> Trained model artifacts <code>data/outputs/</code> Generated outputs"},{"location":"reference/#api-endpoints","title":"API Endpoints","text":"Endpoint Method Description <code>/health</code> GET Health check <code>/api/v1/optimize</code> POST Run optimization <code>/api/v1/forecast</code> POST Generate forecasts <code>/api/v1/risk/score</code> POST Calculate risk scores"},{"location":"reference/#environment-variables","title":"Environment Variables","text":"Variable Required Description <code>KAGGLE_USERNAME</code> Yes* Kaggle API username <code>KAGGLE_KEY</code> Yes* Kaggle API key <code>POSTGRES_HOST</code> No Database host <code>POSTGRES_PASSWORD</code> No Database password <code>REDIS_HOST</code> No Cache host <code>LOG_LEVEL</code> No Logging level <p>*Required for data download</p>"},{"location":"reference/changelog/","title":"Changelog","text":"<p>All notable changes to the Fleet Decision Platform.</p>"},{"location":"reference/changelog/#unreleased","title":"[Unreleased]","text":""},{"location":"reference/changelog/#added","title":"Added","text":"<ul> <li>Initial project structure</li> <li>MkDocs documentation site</li> <li>Configuration management system</li> <li>Data ingestion framework</li> <li>Fleet simulation scripts</li> </ul>"},{"location":"reference/changelog/#changed","title":"Changed","text":"<ul> <li>None</li> </ul>"},{"location":"reference/changelog/#deprecated","title":"Deprecated","text":"<ul> <li>None</li> </ul>"},{"location":"reference/changelog/#removed","title":"Removed","text":"<ul> <li>None</li> </ul>"},{"location":"reference/changelog/#fixed","title":"Fixed","text":"<ul> <li>None</li> </ul>"},{"location":"reference/changelog/#security","title":"Security","text":"<ul> <li>None</li> </ul>"},{"location":"reference/changelog/#010-2024-xx-xx-mvp","title":"[0.1.0] - 2024-XX-XX (MVP)","text":""},{"location":"reference/changelog/#added_1","title":"Added","text":"<p>Core Features: - XGBoost demand forecasting model - Min-cost flow optimization (OR-Tools) - Heuristic risk scoring - Basic cost analysis - FastAPI REST endpoints</p> <p>Data Processing: - NYC Taxi data ingestion - NASA Turbofan data loading - Fleet state simulation - Network cost generation - Feature engineering pipeline</p> <p>API Endpoints: - <code>POST /api/v1/optimize</code> - Fleet optimization - <code>POST /api/v1/forecast</code> - Demand forecasting - <code>POST /api/v1/risk/score</code> - Risk assessment - <code>GET /health</code> - Health check - <code>GET /api/v1/config</code> - Configuration</p> <p>Documentation: - Getting started guide - Architecture documentation - API reference - User guide - Developer guide - Operations guide</p> <p>Infrastructure: - uv package management - Pre-commit hooks (ruff) - MkDocs documentation - Makefile commands - pytest test framework</p>"},{"location":"reference/changelog/#known-limitations","title":"Known Limitations","text":"<ul> <li>No authentication (MVP)</li> <li>No persistent database (file-based)</li> <li>Single optimization stage only</li> <li>Heuristic risk scoring only</li> <li>No caching</li> </ul>"},{"location":"reference/changelog/#roadmap","title":"Roadmap","text":""},{"location":"reference/changelog/#phase-2-enhanced-ml","title":"Phase 2 - Enhanced ML","text":"<p>Planned: - [ ] Prophet forecasting model - [ ] Hierarchical forecasting - [ ] ML risk classification - [ ] SHAP explainability - [ ] Binding constraint analysis - [ ] Redis caching - [ ] PostgreSQL database</p>"},{"location":"reference/changelog/#phase-3-contract-intelligence","title":"Phase 3 - Contract Intelligence","text":"<p>Planned: - [ ] PDF contract parsing - [ ] OCR text extraction - [ ] NLP constraint extraction - [ ] Pinecone vector storage - [ ] RAG-based constraint search - [ ] Constraint registry</p>"},{"location":"reference/changelog/#phase-4-production","title":"Phase 4 - Production","text":"<p>Planned: - [ ] MILP optimization refinement - [ ] Survival analysis models - [ ] Temporal Fusion Transformer - [ ] Docker deployment - [ ] AWS ECS deployment - [ ] Full monitoring stack - [ ] API authentication</p>"},{"location":"reference/changelog/#versioning","title":"Versioning","text":"<p>This project follows Semantic Versioning:</p> <ul> <li>MAJOR (X.0.0): Breaking API changes</li> <li>MINOR (0.X.0): New features, backwards compatible</li> <li>PATCH (0.0.X): Bug fixes, backwards compatible</li> </ul>"},{"location":"reference/changelog/#migration-guides","title":"Migration Guides","text":""},{"location":"reference/changelog/#upgrading-to-020-future","title":"Upgrading to 0.2.0 (Future)","text":"<pre><code># Backup data\ncp -r data/ data_backup/\n\n# Update dependencies\nuv sync\n\n# Run migrations\nuv run python scripts/migrate_to_v02.py\n\n# Verify\nuv run pytest\n</code></pre>"},{"location":"reference/changelog/#contributors","title":"Contributors","text":"<p>See GitHub Contributors.</p>"},{"location":"reference/changelog/#links","title":"Links","text":"<ul> <li>GitHub Releases</li> <li>GitHub Milestones</li> <li>GitHub Issues</li> </ul>"},{"location":"reference/configuration/","title":"Configuration Reference","text":"<p>Complete reference for all configuration options.</p>"},{"location":"reference/configuration/#configuration-file","title":"Configuration File","text":"<p>Main configuration in <code>config/config.yaml</code>:</p> <pre><code># Full example with all options\ndata:\n  nyc_taxi:\n    path: \"data/raw/nyc_taxi\"\n    zones: [1, 2, 3, 4, 5]\n    time_range: \"2023-01-01:2023-12-31\"\n    dataset_id: \"new-york-city-taxi-fare-prediction\"\n  nasa_turbofan:\n    path: \"data/raw/nasa_turbofan\"\n    dataset_id: \"nasa-turbofan-engine-degradation-simulation-data-set\"\n  processed_path: \"data/processed\"\n  models_path: \"data/models\"\n  outputs_path: \"data/outputs\"\n\nfleet:\n  num_vehicles: 50\n  num_locations: 5\n  simulation_seed: 42\n  vehicle_capacity: 1\n  max_travel_distance: 100\n\nforecasting:\n  model: \"xgboost\"\n  horizon_days: 7\n  features:\n    - hour\n    - day_of_week\n    - month\n  xgboost:\n    n_estimators: 100\n    max_depth: 5\n    learning_rate: 0.1\n\noptimization:\n  solver: \"ortools\"\n  stages:\n    - min_cost_flow\n  constraints_file: \"config/constraints/fleet_constraints.json\"\n\nrisk:\n  model: \"heuristic\"\n  heuristic_threshold: 0.8\n\napi:\n  host: \"0.0.0.0\"\n  port: 8000\n  log_level: \"INFO\"\n\nlogging:\n  version: 1\n  disable_existing_loggers: false\n</code></pre>"},{"location":"reference/configuration/#data-configuration","title":"Data Configuration","text":""},{"location":"reference/configuration/#nyc-taxi-data","title":"NYC Taxi Data","text":"Option Type Default Description <code>path</code> string <code>\"data/raw/nyc_taxi\"</code> Storage path <code>zones</code> list[int] <code>[1,2,3,4,5]</code> Taxi zone IDs <code>time_range</code> string <code>\"2023-01-01:2023-12-31\"</code> Date range <code>dataset_id</code> string - Kaggle dataset ID"},{"location":"reference/configuration/#nasa-turbofan-data","title":"NASA Turbofan Data","text":"Option Type Default Description <code>path</code> string <code>\"data/raw/nasa_turbofan\"</code> Storage path <code>dataset_id</code> string - Kaggle dataset ID"},{"location":"reference/configuration/#paths","title":"Paths","text":"Option Type Default Description <code>processed_path</code> string <code>\"data/processed\"</code> Processed data <code>models_path</code> string <code>\"data/models\"</code> Model artifacts <code>outputs_path</code> string <code>\"data/outputs\"</code> Generated outputs"},{"location":"reference/configuration/#fleet-configuration","title":"Fleet Configuration","text":"Option Type Default Description <code>num_vehicles</code> int <code>50</code> Total vehicles in fleet <code>num_locations</code> int <code>5</code> Number of service locations <code>simulation_seed</code> int <code>42</code> Random seed for reproducibility <code>vehicle_capacity</code> int <code>1</code> Passengers per vehicle <code>max_travel_distance</code> float <code>100</code> Max rebalancing distance (km)"},{"location":"reference/configuration/#forecasting-configuration","title":"Forecasting Configuration","text":""},{"location":"reference/configuration/#general","title":"General","text":"Option Type Default Description <code>model</code> string <code>\"xgboost\"</code> Model type: <code>xgboost</code>, <code>prophet</code>, <code>tft</code> <code>horizon_days</code> int <code>7</code> Forecast horizon <code>features</code> list[str] <code>[hour, day_of_week, month]</code> Feature columns"},{"location":"reference/configuration/#xgboost-options","title":"XGBoost Options","text":"Option Type Default Description <code>n_estimators</code> int <code>100</code> Number of trees <code>max_depth</code> int <code>5</code> Maximum tree depth <code>learning_rate</code> float <code>0.1</code> Learning rate <code>min_child_weight</code> int <code>1</code> Min child weight <code>subsample</code> float <code>0.8</code> Row subsampling <code>colsample_bytree</code> float <code>0.8</code> Column subsampling"},{"location":"reference/configuration/#prophet-options-phase-2","title":"Prophet Options (Phase 2)","text":"Option Type Default Description <code>seasonality_mode</code> string <code>\"multiplicative\"</code> Seasonality type <code>changepoint_prior_scale</code> float <code>0.05</code> Trend flexibility <code>yearly_seasonality</code> bool <code>true</code> Include yearly seasonality <code>weekly_seasonality</code> bool <code>true</code> Include weekly seasonality <code>daily_seasonality</code> bool <code>true</code> Include daily seasonality"},{"location":"reference/configuration/#optimization-configuration","title":"Optimization Configuration","text":"Option Type Default Description <code>solver</code> string <code>\"ortools\"</code> Solver: <code>ortools</code>, <code>pulp</code> <code>stages</code> list[str] <code>[\"min_cost_flow\"]</code> Optimization stages <code>constraints_file</code> string <code>\"config/constraints/...\"</code> Constraints JSON file"},{"location":"reference/configuration/#solver-settings","title":"Solver Settings","text":"Option Type Default Description <code>time_limit_seconds</code> int <code>60</code> Max solve time <code>optimality_gap</code> float <code>0.01</code> Gap tolerance (1%) <code>num_threads</code> int <code>4</code> Parallel threads"},{"location":"reference/configuration/#optimization-stages","title":"Optimization Stages","text":"Stage Description Phase <code>min_cost_flow</code> Minimize rebalancing cost MVP <code>critical_demand</code> Ensure service levels Phase 2 <code>milp_refinement</code> Handle discrete constraints Phase 4"},{"location":"reference/configuration/#risk-configuration","title":"Risk Configuration","text":"Option Type Default Description <code>model</code> string <code>\"heuristic\"</code> Model type <code>heuristic_threshold</code> float <code>0.8</code> High risk threshold"},{"location":"reference/configuration/#heuristic-options","title":"Heuristic Options","text":"Option Type Default Description <code>age_weight</code> float <code>0.3</code> Weight for vehicle age <code>utilization_weight</code> float <code>0.4</code> Weight for utilization <code>maintenance_weight</code> float <code>0.3</code> Weight for maintenance history"},{"location":"reference/configuration/#thresholds","title":"Thresholds","text":"Option Type Default Description <code>high</code> float <code>0.7</code> High risk threshold <code>medium</code> float <code>0.4</code> Medium risk threshold <code>low</code> float <code>0.0</code> Low risk threshold"},{"location":"reference/configuration/#api-configuration","title":"API Configuration","text":"Option Type Default Description <code>host</code> string <code>\"0.0.0.0\"</code> Bind host <code>port</code> int <code>8000</code> Bind port <code>log_level</code> string <code>\"INFO\"</code> Log level <code>debug</code> bool <code>false</code> Enable debug mode <code>reload</code> bool <code>false</code> Auto-reload on changes"},{"location":"reference/configuration/#cors-options","title":"CORS Options","text":"Option Type Default Description <code>allow_origins</code> list[str] <code>[\"*\"]</code> Allowed origins <code>allow_methods</code> list[str] <code>[\"*\"]</code> Allowed methods <code>allow_headers</code> list[str] <code>[\"*\"]</code> Allowed headers"},{"location":"reference/configuration/#logging-configuration","title":"Logging Configuration","text":"Option Type Default Description <code>version</code> int <code>1</code> Config version <code>disable_existing_loggers</code> bool <code>false</code> Disable other loggers"},{"location":"reference/configuration/#log-levels","title":"Log Levels","text":"Level Value DEBUG 10 INFO 20 WARNING 30 ERROR 40 CRITICAL 50"},{"location":"reference/configuration/#environment-variables","title":"Environment Variables","text":"<p>Override configuration with environment variables:</p> <pre><code># Database\nPOSTGRES_HOST=localhost\nPOSTGRES_PORT=5432\nPOSTGRES_DB=fleet_db\nPOSTGRES_USER=fleet_user\nPOSTGRES_PASSWORD=secret\n\n# Cache\nREDIS_HOST=localhost\nREDIS_PORT=6379\n\n# API\nAPP_HOST=0.0.0.0\nAPP_PORT=8000\nLOG_LEVEL=INFO\n\n# Data\nKAGGLE_USERNAME=username\nKAGGLE_KEY=api_key\n</code></pre>"},{"location":"reference/configuration/#next-steps","title":"Next Steps","text":"<ul> <li>Data Formats - Data schemas</li> <li>Constraints - Constraint reference</li> </ul>"},{"location":"reference/constraints/","title":"Constraints Reference","text":"<p>Complete reference for operational constraints.</p>"},{"location":"reference/constraints/#overview","title":"Overview","text":"<p>Constraints are defined in <code>config/constraints/fleet_constraints.json</code> and control optimization behavior.</p>"},{"location":"reference/constraints/#constraint-categories","title":"Constraint Categories","text":""},{"location":"reference/constraints/#capacity-constraints","title":"Capacity Constraints","text":"<p>Control fleet size and distribution:</p> <pre><code>{\n  \"capacity_constraints\": {\n    \"max_vehicles_per_location\": 20,\n    \"min_vehicles_per_location\": 2,\n    \"total_fleet_size\": 50\n  }\n}\n</code></pre> Constraint Type Description <code>max_vehicles_per_location</code> int Maximum vehicles at any location <code>min_vehicles_per_location</code> int Minimum vehicles at any location <code>total_fleet_size</code> int Total fleet constraint"},{"location":"reference/constraints/#operational-constraints","title":"Operational Constraints","text":"<p>Control operational parameters:</p> <pre><code>{\n  \"operational_constraints\": {\n    \"max_rebalancing_distance_km\": 100,\n    \"max_daily_trips_per_vehicle\": 10,\n    \"max_trip_duration_minutes\": 60,\n    \"vehicle_capacity\": 1\n  }\n}\n</code></pre> Constraint Type Description <code>max_rebalancing_distance_km</code> float Max distance for vehicle movement <code>max_daily_trips_per_vehicle</code> int Max trips per day <code>max_trip_duration_minutes</code> int Max single trip duration <code>vehicle_capacity</code> int Passengers per vehicle"},{"location":"reference/constraints/#service-level-constraints","title":"Service Level Constraints","text":"<p>Control service quality:</p> <pre><code>{\n  \"service_level_constraints\": {\n    \"min_demand_coverage\": 0.95,\n    \"max_wait_time_minutes\": 15,\n    \"min_utilization\": 0.6,\n    \"max_utilization\": 0.9\n  }\n}\n</code></pre> Constraint Type Description <code>min_demand_coverage</code> float Minimum demand served (0-1) <code>max_wait_time_minutes</code> int Maximum customer wait <code>min_utilization</code> float Minimum fleet utilization <code>max_utilization</code> float Maximum fleet utilization"},{"location":"reference/constraints/#cost-constraints","title":"Cost Constraints","text":"<p>Control costs:</p> <pre><code>{\n  \"cost_constraints\": {\n    \"max_rebalancing_cost_per_day\": 10000,\n    \"cost_per_km\": 0.5,\n    \"cost_per_minute\": 0.25\n  }\n}\n</code></pre> Constraint Type Description <code>max_rebalancing_cost_per_day</code> float Daily cost limit <code>cost_per_km</code> float Cost per kilometer <code>cost_per_minute</code> float Cost per minute"},{"location":"reference/constraints/#location-specific-constraints","title":"Location-Specific Constraints","text":"<p>Override global constraints for specific locations:</p> <pre><code>{\n  \"location_specific_constraints\": {\n    \"zone_1\": {\n      \"max_vehicles\": 10,\n      \"min_vehicles\": 2,\n      \"priority\": \"high\"\n    },\n    \"zone_2\": {\n      \"max_vehicles\": 15,\n      \"min_vehicles\": 3,\n      \"priority\": \"medium\"\n    }\n  }\n}\n</code></pre> Field Type Description <code>max_vehicles</code> int Location max vehicles <code>min_vehicles</code> int Location min vehicles <code>priority</code> string Service priority level"},{"location":"reference/constraints/#vehicle-specific-constraints","title":"Vehicle-Specific Constraints","text":"<p>Constraints for individual vehicles:</p> <pre><code>{\n  \"vehicle_specific_constraints\": {\n    \"V001\": {\n      \"max_mileage_km\": 50000,\n      \"service_due_days\": 30,\n      \"allowed_zones\": [1, 2, 3]\n    },\n    \"V002\": {\n      \"max_mileage_km\": 60000,\n      \"service_due_days\": 45,\n      \"excluded_zones\": [5]\n    }\n  }\n}\n</code></pre> Field Type Description <code>max_mileage_km</code> int Maximum total mileage <code>service_due_days</code> int Days until service required <code>allowed_zones</code> list[int] Zones vehicle can operate in <code>excluded_zones</code> list[int] Zones vehicle cannot operate in"},{"location":"reference/constraints/#time-based-constraints","title":"Time-Based Constraints","text":"<p>Vary constraints by time period:</p> <pre><code>{\n  \"time_based_constraints\": {\n    \"peak_hours\": {\n      \"hours\": [7, 8, 9, 17, 18, 19],\n      \"min_demand_coverage\": 0.98,\n      \"max_wait_time_minutes\": 10\n    },\n    \"off_peak\": {\n      \"hours\": [0, 1, 2, 3, 4, 5, 22, 23],\n      \"min_demand_coverage\": 0.85,\n      \"max_wait_time_minutes\": 20\n    }\n  }\n}\n</code></pre>"},{"location":"reference/constraints/#full-example","title":"Full Example","text":"<p>Complete constraint file:</p> <pre><code>{\n  \"global_constraints\": {\n    \"max_vehicle_capacity\": 1,\n    \"max_travel_distance_km\": 100,\n    \"min_service_level_percentage\": 0.95\n  },\n\n  \"capacity_constraints\": {\n    \"max_vehicles_per_location\": 20,\n    \"min_vehicles_per_location\": 2,\n    \"total_fleet_size\": 50\n  },\n\n  \"operational_constraints\": {\n    \"max_rebalancing_distance_km\": 100,\n    \"max_daily_trips_per_vehicle\": 10\n  },\n\n  \"service_level_constraints\": {\n    \"min_demand_coverage\": 0.95,\n    \"max_wait_time_minutes\": 15\n  },\n\n  \"cost_constraints\": {\n    \"max_rebalancing_cost_per_day\": 10000,\n    \"cost_per_km\": 0.5\n  },\n\n  \"location_specific_constraints\": {\n    \"zone_1\": {\n      \"max_vehicles\": 10,\n      \"min_vehicles\": 2\n    },\n    \"zone_2\": {\n      \"max_vehicles\": 15,\n      \"min_vehicles\": 3\n    }\n  },\n\n  \"vehicle_specific_constraints\": {\n    \"vehicle_A1\": {\n      \"max_mileage_km\": 50000,\n      \"service_due_days\": 30\n    }\n  }\n}\n</code></pre>"},{"location":"reference/constraints/#constraint-types-in-optimization","title":"Constraint Types in Optimization","text":""},{"location":"reference/constraints/#hard-constraints","title":"Hard Constraints","text":"<p>Must be satisfied:</p> <ul> <li><code>total_fleet_size</code> - Cannot exceed</li> <li><code>max_vehicles_per_location</code> - Cannot exceed</li> <li><code>min_vehicles_per_location</code> - Must meet</li> </ul>"},{"location":"reference/constraints/#soft-constraints","title":"Soft Constraints","text":"<p>Penalized if violated:</p> <ul> <li><code>min_demand_coverage</code> - Penalty for unmet demand</li> <li><code>max_rebalancing_cost</code> - Penalty for over budget</li> </ul>"},{"location":"reference/constraints/#using-constraints-in-api","title":"Using Constraints in API","text":"<p>Pass constraints in optimization request:</p> <pre><code>request = {\n    \"demand_forecast\": {...},\n    \"fleet_state\": {...},\n    \"constraints\": {\n        \"max_distance\": 100,\n        \"min_service_level\": 0.95,\n        \"max_cost\": 10000\n    }\n}\n\nresponse = httpx.post(\"/api/v1/optimize\", json=request)\n</code></pre>"},{"location":"reference/constraints/#constraint-validation","title":"Constraint Validation","text":"<p>Constraints are validated at startup:</p> <pre><code>def validate_constraints(constraints: dict) -&gt; bool:\n    \"\"\"Validate constraint consistency.\"\"\"\n    # Check total capacity\n    min_total = sum(c.get('min_vehicles', 0)\n                    for c in constraints.get('location_specific', {}).values())\n    max_total = constraints.get('capacity', {}).get('total_fleet_size', float('inf'))\n\n    if min_total &gt; max_total:\n        raise ValueError(\"Min vehicles exceed total fleet size\")\n\n    # Check service level bounds\n    service_level = constraints.get('service_level', {}).get('min_demand_coverage', 0)\n    if not 0 &lt;= service_level &lt;= 1:\n        raise ValueError(\"Service level must be between 0 and 1\")\n\n    return True\n</code></pre>"},{"location":"reference/constraints/#next-steps","title":"Next Steps","text":"<ul> <li>Configuration - Config options</li> <li>Data Formats - Data schemas</li> <li>Changelog - Version history</li> </ul>"},{"location":"reference/data-formats/","title":"Data Formats Reference","text":"<p>Complete reference for all data schemas and formats.</p>"},{"location":"reference/data-formats/#storage-formats","title":"Storage Formats","text":"Format Extension Use Case Parquet <code>.parquet</code> Processed data, features NumPy <code>.npy</code> Matrices, arrays JSON <code>.json</code> Configuration, metadata Pickle <code>.pkl</code> Model artifacts"},{"location":"reference/data-formats/#input-data","title":"Input Data","text":""},{"location":"reference/data-formats/#nyc-taxi-data","title":"NYC Taxi Data","text":"<p>Raw trip data from NYC TLC:</p> <pre><code>pd.DataFrame({\n    \"pickup_datetime\": pd.Timestamp,   # Trip start time\n    \"dropoff_datetime\": pd.Timestamp,  # Trip end time\n    \"pickup_location_id\": int,         # Pickup zone (1-263)\n    \"dropoff_location_id\": int,        # Dropoff zone (1-263)\n    \"trip_distance\": float,            # Miles\n    \"passenger_count\": int,            # Number of passengers\n    \"fare_amount\": float,              # Trip fare\n})\n</code></pre> <p>Example:</p> pickup_datetime dropoff_datetime pickup_location_id dropoff_location_id trip_distance 2023-01-01 08:15 2023-01-01 08:32 79 234 3.2"},{"location":"reference/data-formats/#nasa-turbofan-data","title":"NASA Turbofan Data","text":"<p>Engine degradation dataset:</p> <pre><code>pd.DataFrame({\n    \"unit_number\": int,      # Engine unit ID\n    \"time_cycles\": int,      # Operating cycles\n    \"setting_1\": float,      # Operational setting 1\n    \"setting_2\": float,      # Operational setting 2\n    \"setting_3\": float,      # Operational setting 3\n    \"sensor_1\": float,       # Sensor measurement 1\n    # ... sensors 2-21\n    \"RUL\": int,              # Remaining useful life (target)\n})\n</code></pre>"},{"location":"reference/data-formats/#processed-data","title":"Processed Data","text":""},{"location":"reference/data-formats/#aggregated-demand","title":"Aggregated Demand","text":"<p>Hourly demand by location:</p> <pre><code>pd.DataFrame({\n    \"location_id\": str,      # Location identifier\n    \"timestamp\": pd.Timestamp,  # Hour start\n    \"demand\": float,         # Number of trips\n    \"hour\": int,             # Hour of day (0-23)\n    \"day_of_week\": int,      # Day of week (0-6)\n    \"month\": int,            # Month (1-12)\n    \"is_weekend\": bool,      # Weekend flag\n})\n</code></pre> <p>Schema:</p> Column Type Description location_id string Location identifier timestamp datetime Hour start demand float Trip count hour int 0-23 day_of_week int 0=Mon, 6=Sun month int 1-12 is_weekend bool True if Sat/Sun"},{"location":"reference/data-formats/#fleet-state","title":"Fleet State","text":"<p>Current vehicle positions and status:</p> <pre><code>pd.DataFrame({\n    \"vehicle_id\": str,       # Unique vehicle ID\n    \"current_location\": str, # Current location\n    \"capacity\": int,         # Passenger capacity\n    \"status\": str,           # operational, maintenance, downtime\n    \"mileage_km\": float,     # Total mileage\n    \"service_due_days\": int, # Days until service\n})\n</code></pre> <p>Status Values:</p> Status Description operational Available for service maintenance Scheduled maintenance downtime Out of service"},{"location":"reference/data-formats/#network-costs","title":"Network Costs","text":"<p>Zone-to-zone cost matrix:</p> <pre><code># As DataFrame\npd.DataFrame({\n    \"zone_1\": [0, 10, 25, ...],\n    \"zone_2\": [10, 0, 15, ...],\n    \"zone_3\": [25, 15, 0, ...],\n}, index=[\"zone_1\", \"zone_2\", \"zone_3\"])\n\n# As NumPy array\nnp.array([\n    [0, 10, 25],\n    [10, 0, 15],\n    [25, 15, 0]\n])\n</code></pre>"},{"location":"reference/data-formats/#model-artifacts","title":"Model Artifacts","text":""},{"location":"reference/data-formats/#forecast-model","title":"Forecast Model","text":"<p>XGBoost model saved with metadata:</p> <pre><code>data/models/demand_forecast/\n\u251c\u2500\u2500 model.json          # XGBoost model\n\u251c\u2500\u2500 metadata.json       # Training metadata\n\u2514\u2500\u2500 feature_names.json  # Feature column names\n</code></pre> <p>metadata.json:</p> <pre><code>{\n  \"model_type\": \"xgboost\",\n  \"version\": \"1.0.0\",\n  \"trained_at\": \"2024-01-15T10:30:00Z\",\n  \"training_data\": {\n    \"start_date\": \"2023-01-01\",\n    \"end_date\": \"2023-12-31\",\n    \"num_samples\": 100000\n  },\n  \"metrics\": {\n    \"rmse\": 5.2,\n    \"mae\": 3.8,\n    \"mape\": 0.12\n  },\n  \"hyperparameters\": {\n    \"n_estimators\": 100,\n    \"max_depth\": 5,\n    \"learning_rate\": 0.1\n  }\n}\n</code></pre>"},{"location":"reference/data-formats/#api-data-formats","title":"API Data Formats","text":""},{"location":"reference/data-formats/#demand-forecast","title":"Demand Forecast","text":"<pre><code>{\n  \"1\": [15, 18, 22, 25, 28, 24, 20],\n  \"2\": [10, 12, 14, 16, 18, 15, 12],\n  \"3\": [8, 9, 11, 13, 15, 12, 10]\n}\n</code></pre> <ul> <li>Keys: Location IDs (string)</li> <li>Values: Hourly demand arrays (floats)</li> </ul>"},{"location":"reference/data-formats/#fleet-state-api","title":"Fleet State (API)","text":"<pre><code>{\n  \"vehicles\": [\n    {\n      \"id\": \"V001\",\n      \"location\": 1,\n      \"capacity\": 1,\n      \"status\": \"operational\"\n    }\n  ]\n}\n</code></pre>"},{"location":"reference/data-formats/#allocation-plan","title":"Allocation Plan","text":"<pre><code>{\n  \"allocation_plan\": [\n    {\n      \"vehicle_id\": \"V001\",\n      \"source_location\": 1,\n      \"target_location\": 2,\n      \"cost\": 15.5,\n      \"assignment\": \"rebalance\"\n    }\n  ],\n  \"total_cost\": 245.50,\n  \"kpis\": {\n    \"demand_coverage\": 0.96,\n    \"utilization\": 0.78,\n    \"rebalanced_count\": 12\n  }\n}\n</code></pre>"},{"location":"reference/data-formats/#risk-scores","title":"Risk Scores","text":"<pre><code>{\n  \"risk_scores\": [\n    {\n      \"vehicle_id\": \"V001\",\n      \"risk_score\": 0.45,\n      \"risk_category\": \"medium\",\n      \"factors\": {\n        \"age_contribution\": 0.15,\n        \"utilization_contribution\": 0.20,\n        \"maintenance_contribution\": 0.10\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"reference/data-formats/#data-validation","title":"Data Validation","text":""},{"location":"reference/data-formats/#pydantic-models","title":"Pydantic Models","text":"<pre><code>from pydantic import BaseModel, Field, validator\nfrom typing import Dict, List\n\nclass DemandForecast(BaseModel):\n    forecasts: Dict[str, List[float]]\n\n    @validator('forecasts')\n    def validate_non_negative(cls, v):\n        for loc, values in v.items():\n            if any(x &lt; 0 for x in values):\n                raise ValueError(f\"Demand must be non-negative\")\n        return v\n\nclass Vehicle(BaseModel):\n    id: str = Field(..., min_length=1)\n    location: int = Field(..., ge=1)\n    capacity: int = Field(default=1, ge=1)\n    status: str = Field(default=\"operational\")\n</code></pre>"},{"location":"reference/data-formats/#file-naming-conventions","title":"File Naming Conventions","text":""},{"location":"reference/data-formats/#processed-data_1","title":"Processed Data","text":"<pre><code>data/processed/\n\u251c\u2500\u2500 demand/\n\u2502   \u251c\u2500\u2500 demand_2023.parquet\n\u2502   \u2514\u2500\u2500 demand_2024.parquet\n\u251c\u2500\u2500 fleet_state/\n\u2502   \u251c\u2500\u2500 fleet_state.parquet\n\u2502   \u2514\u2500\u2500 network_costs.npy\n\u2514\u2500\u2500 features/\n    \u2514\u2500\u2500 features_2023.parquet\n</code></pre>"},{"location":"reference/data-formats/#model-artifacts_1","title":"Model Artifacts","text":"<pre><code>data/models/\n\u251c\u2500\u2500 demand_forecast/\n\u2502   \u251c\u2500\u2500 v1/\n\u2502   \u2502   \u251c\u2500\u2500 model.json\n\u2502   \u2502   \u2514\u2500\u2500 metadata.json\n\u2502   \u2514\u2500\u2500 v2/\n\u2502       \u251c\u2500\u2500 model.json\n\u2502       \u2514\u2500\u2500 metadata.json\n\u2514\u2500\u2500 risk_scoring/\n    \u2514\u2500\u2500 v1/\n        \u251c\u2500\u2500 model.pkl\n        \u2514\u2500\u2500 metadata.json\n</code></pre>"},{"location":"reference/data-formats/#next-steps","title":"Next Steps","text":"<ul> <li>Constraints - Constraint definitions</li> <li>Configuration - Config options</li> </ul>"},{"location":"user-guide/","title":"User Guide","text":"<p>Learn how to use the Fleet Decision Platform to optimize your fleet operations.</p>"},{"location":"user-guide/#overview","title":"Overview","text":"<p>The platform helps you:</p> <ul> <li>Forecast demand across multiple locations</li> <li>Optimize fleet allocation to minimize costs</li> <li>Assess risks for your vehicle fleet</li> <li>Understand decisions through explainability features</li> </ul>"},{"location":"user-guide/#workflow","title":"Workflow","text":"<pre><code>graph LR\n    A[Prepare Data] --&gt; B[Configure]\n    B --&gt; C[Generate Forecasts]\n    C --&gt; D[Run Optimization]\n    D --&gt; E[Review Results]\n    E --&gt; F[Take Action]</code></pre>"},{"location":"user-guide/#getting-started","title":"Getting Started","text":"<ul> <li> <p> Demand Forecasting</p> <p>Predict future demand across your service locations.</p> <p> Forecasting Guide</p> </li> <li> <p> Fleet Optimization</p> <p>Generate cost-optimal fleet allocation plans.</p> <p> Optimization Guide</p> </li> <li> <p> Risk Assessment</p> <p>Identify high-risk vehicles in your fleet.</p> <p> Risk Guide</p> </li> <li> <p> Understanding Results</p> <p>Interpret optimization outputs and KPIs.</p> <p> Results Guide</p> </li> </ul>"},{"location":"user-guide/#quick-example","title":"Quick Example","text":"<p>Here's a typical workflow:</p> <pre><code>from src.utils.config import load_config\nfrom src.forecasting import DemandPredictor\nfrom src.optimization import CascadingOptimizer\n\n# 1. Load configuration\nconfig = load_config()\n\n# 2. Generate demand forecasts\npredictor = DemandPredictor(config)\nforecasts = predictor.predict(features, horizon_days=7)\n\n# 3. Run optimization\noptimizer = CascadingOptimizer(config)\nresult = optimizer.optimize(\n    demand_forecast=forecasts,\n    fleet_state=fleet_state,\n    network_costs=network_costs\n)\n\n# 4. Review results\nprint(f\"Total Cost: ${result.total_cost:,.2f}\")\nprint(f\"Demand Coverage: {result.kpis['demand_coverage']:.1%}\")\n</code></pre>"},{"location":"user-guide/#use-cases","title":"Use Cases","text":""},{"location":"user-guide/#daily-fleet-rebalancing","title":"Daily Fleet Rebalancing","text":"<p>Optimize vehicle distribution across locations based on predicted demand:</p> <ol> <li>Generate next-day demand forecasts</li> <li>Run optimization with current fleet state</li> <li>Execute rebalancing plan</li> </ol>"},{"location":"user-guide/#weekly-planning","title":"Weekly Planning","text":"<p>Plan fleet operations for the upcoming week:</p> <ol> <li>Generate 7-day forecasts</li> <li>Identify capacity constraints</li> <li>Schedule maintenance windows</li> <li>Generate daily rebalancing plans</li> </ol>"},{"location":"user-guide/#risk-based-maintenance","title":"Risk-Based Maintenance","text":"<p>Prioritize vehicle maintenance based on risk scores:</p> <ol> <li>Calculate risk scores for all vehicles</li> <li>Identify high-risk vehicles</li> <li>Schedule preventive maintenance</li> <li>Update fleet state</li> </ol>"},{"location":"user-guide/#best-practices","title":"Best Practices","text":"<p>Data Quality</p> <p>Ensure your input data is:</p> <ul> <li>Complete: No missing values in critical fields</li> <li>Recent: Use the latest available data</li> <li>Accurate: Validate against ground truth</li> </ul> <p>Configuration</p> <ul> <li>Start with default settings</li> <li>Tune parameters based on results</li> <li>Document any custom configurations</li> </ul> <p>Monitoring</p> <ul> <li>Track forecast accuracy over time</li> <li>Monitor optimization KPIs</li> <li>Alert on anomalies</li> </ul>"},{"location":"user-guide/#next-steps","title":"Next Steps","text":"<p>Choose your focus area:</p> <ul> <li>Forecasting Guide - Learn demand forecasting</li> <li>Optimization Guide - Master fleet optimization</li> <li>Risk Guide - Understand risk assessment</li> <li>Results Guide - Interpret outputs</li> </ul>"},{"location":"user-guide/forecasting/","title":"Demand Forecasting","text":"<p>Generate accurate demand forecasts for your fleet service locations.</p>"},{"location":"user-guide/forecasting/#overview","title":"Overview","text":"<p>The forecasting module predicts future demand using:</p> <ul> <li>XGBoost (MVP) - Gradient boosting for tabular data</li> <li>Prophet (Phase 2) - Facebook's time-series model</li> <li>TFT (Phase 4) - Temporal Fusion Transformer</li> </ul>"},{"location":"user-guide/forecasting/#how-it-works","title":"How It Works","text":"<pre><code>graph LR\n    A[Historical Data] --&gt; B[Feature Engineering]\n    B --&gt; C[Model Training]\n    C --&gt; D[Prediction]\n    D --&gt; E[Forecasts]</code></pre>"},{"location":"user-guide/forecasting/#features-used","title":"Features Used","text":"Feature Description Type <code>hour</code> Hour of day (0-23) Temporal <code>day_of_week</code> Day of week (0-6) Temporal <code>month</code> Month (1-12) Temporal <code>is_weekend</code> Weekend flag Binary <code>lag_1h</code> Demand 1 hour ago Lag <code>lag_24h</code> Demand 24 hours ago Lag <code>lag_168h</code> Demand 1 week ago Lag"},{"location":"user-guide/forecasting/#usage","title":"Usage","text":""},{"location":"user-guide/forecasting/#via-api","title":"Via API","text":"<pre><code>curl -X POST http://localhost:8000/api/v1/forecast \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"location_ids\": [1, 2, 3],\n    \"horizon_hours\": 168,\n    \"include_intervals\": false\n  }'\n</code></pre>"},{"location":"user-guide/forecasting/#via-python","title":"Via Python","text":"<pre><code>from src.forecasting import DemandPredictor\nfrom src.utils.config import load_config\n\n# Load configuration\nconfig = load_config()\n\n# Initialize predictor\npredictor = DemandPredictor(config)\n\n# Load trained model\npredictor.load_model(\"data/models/demand_forecast/\")\n\n# Generate forecasts\nforecasts = predictor.predict(\n    features=feature_data,\n    horizon_days=7\n)\n\n# Results: Dict[location_id, np.ndarray of hourly forecasts]\nfor location, forecast in forecasts.items():\n    print(f\"Location {location}: {len(forecast)} hours\")\n    print(f\"  Mean demand: {forecast.mean():.1f}\")\n    print(f\"  Max demand: {forecast.max():.1f}\")\n</code></pre>"},{"location":"user-guide/forecasting/#training-a-model","title":"Training a Model","text":""},{"location":"user-guide/forecasting/#prepare-data","title":"Prepare Data","text":"<pre><code>from src.data.ingestion import DataIngestion\nfrom src.data.feature_engineering import FeatureEngineer\n\n# Load raw data\ningestion = DataIngestion(config)\nraw_data = ingestion.load_nyc_taxi()\n\n# Create features\nengineer = FeatureEngineer(config)\nfeatures = engineer.create_features(raw_data)\n</code></pre>"},{"location":"user-guide/forecasting/#train-model","title":"Train Model","text":"<pre><code>from src.forecasting import ModelTrainer\n\n# Initialize trainer\ntrainer = ModelTrainer(config)\n\n# Train model\nmodel, metrics = trainer.train(features)\n\n# Review metrics\nprint(f\"RMSE: {metrics['rmse']:.2f}\")\nprint(f\"MAE: {metrics['mae']:.2f}\")\nprint(f\"MAPE: {metrics['mape']:.1%}\")\n\n# Save model\ntrainer.save(model, \"data/models/demand_forecast/\")\n</code></pre>"},{"location":"user-guide/forecasting/#model-configuration","title":"Model Configuration","text":"<p>Configure forecasting in <code>config/config.yaml</code>:</p> <pre><code>forecasting:\n  model: \"xgboost\"\n  horizon_days: 7\n\n  features:\n    - hour\n    - day_of_week\n    - month\n    - is_weekend\n    - lag_1h\n    - lag_24h\n    - lag_168h\n\n  xgboost:\n    n_estimators: 100\n    max_depth: 6\n    learning_rate: 0.1\n    min_child_weight: 1\n    subsample: 0.8\n    colsample_bytree: 0.8\n\n  training:\n    train_split: 0.8\n    validation_split: 0.1\n    test_split: 0.1\n</code></pre>"},{"location":"user-guide/forecasting/#interpreting-results","title":"Interpreting Results","text":""},{"location":"user-guide/forecasting/#forecast-output","title":"Forecast Output","text":"<pre><code>{\n    \"1\": [15, 18, 22, 25, ...],  # Hourly demand for location 1\n    \"2\": [10, 12, 14, 16, ...],  # Hourly demand for location 2\n    \"3\": [8, 9, 11, 13, ...],    # Hourly demand for location 3\n}\n</code></pre>"},{"location":"user-guide/forecasting/#understanding-patterns","title":"Understanding Patterns","text":"<pre><code>graph TD\n    A[Forecast Pattern] --&gt; B{Peak Hours?}\n    B --&gt;|Morning| C[Commute Demand]\n    B --&gt;|Evening| D[Return Trips]\n    B --&gt;|Weekend| E[Leisure Pattern]\n\n    A --&gt; F{Trend?}\n    F --&gt;|Increasing| G[Growing Area]\n    F --&gt;|Decreasing| H[Declining Area]\n    F --&gt;|Stable| I[Mature Area]</code></pre>"},{"location":"user-guide/forecasting/#evaluation-metrics","title":"Evaluation Metrics","text":"Metric Description Target RMSE Root Mean Square Error Lower is better MAE Mean Absolute Error Lower is better MAPE Mean Absolute Percentage Error &lt; 15%"},{"location":"user-guide/forecasting/#best-practices","title":"Best Practices","text":"<p>Data Requirements</p> <ul> <li>Minimum 3 months of historical data</li> <li>At least hourly granularity</li> <li>Complete coverage of all locations</li> </ul> <p>Feature Engineering</p> <ul> <li>Add domain-specific features (events, weather)</li> <li>Test different lag features</li> <li>Consider holiday calendars</li> </ul> <p>Common Issues</p> <ul> <li>High MAPE: Check for outliers in training data</li> <li>Overfitting: Reduce model complexity</li> <li>Underfitting: Add more features</li> </ul>"},{"location":"user-guide/forecasting/#next-steps","title":"Next Steps","text":"<ul> <li>Optimization Guide - Use forecasts in optimization</li> <li>Results Guide - Interpret forecast outputs</li> <li>API Reference - Forecast endpoint details</li> </ul>"},{"location":"user-guide/optimization/","title":"Fleet Optimization","text":"<p>Generate cost-optimal fleet allocation and rebalancing plans.</p>"},{"location":"user-guide/optimization/#overview","title":"Overview","text":"<p>The optimization engine uses cascading stages:</p> <ol> <li>Min-Cost Flow (MVP) - Minimize rebalancing costs</li> <li>Critical Demand (Phase 2) - Ensure service levels</li> <li>MILP Refinement (Phase 4) - Handle discrete constraints</li> </ol>"},{"location":"user-guide/optimization/#how-it-works","title":"How It Works","text":"<pre><code>graph LR\n    subgraph Inputs\n        A[Demand Forecast]\n        B[Fleet State]\n        C[Network Costs]\n        D[Constraints]\n    end\n\n    subgraph Optimization\n        E[Constraint Check]\n        F[Min-Cost Flow]\n        G[Allocation Plan]\n    end\n\n    subgraph Outputs\n        H[Vehicle Assignments]\n        I[Total Cost]\n        J[KPIs]\n    end\n\n    A &amp; B &amp; C &amp; D --&gt; E\n    E --&gt; F\n    F --&gt; G\n    G --&gt; H &amp; I &amp; J</code></pre>"},{"location":"user-guide/optimization/#usage","title":"Usage","text":""},{"location":"user-guide/optimization/#via-api","title":"Via API","text":"<pre><code>curl -X POST http://localhost:8000/api/v1/optimize \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"demand_forecast\": {\n      \"1\": [15, 18, 22],\n      \"2\": [10, 12, 14],\n      \"3\": [8, 9, 11]\n    },\n    \"fleet_state\": {\n      \"vehicles\": [\n        {\"id\": \"V001\", \"location\": 1, \"capacity\": 1},\n        {\"id\": \"V002\", \"location\": 2, \"capacity\": 1}\n      ]\n    },\n    \"constraints\": {\n      \"max_distance\": 100,\n      \"min_service_level\": 0.95\n    }\n  }'\n</code></pre>"},{"location":"user-guide/optimization/#via-python","title":"Via Python","text":"<pre><code>from src.optimization import CascadingOptimizer\nfrom src.utils.config import load_config\n\n# Load configuration\nconfig = load_config()\n\n# Initialize optimizer\noptimizer = CascadingOptimizer(config)\n\n# Run optimization\nresult = optimizer.optimize(\n    demand_forecast=forecasts,\n    fleet_state=fleet_state,\n    network_costs=network_costs,\n    constraints=constraints\n)\n\n# Review results\nprint(f\"Status: {result.status}\")\nprint(f\"Total Cost: ${result.total_cost:,.2f}\")\nprint(f\"Vehicles Rebalanced: {result.kpis['rebalanced_count']}\")\nprint(f\"Demand Coverage: {result.kpis['demand_coverage']:.1%}\")\n</code></pre>"},{"location":"user-guide/optimization/#understanding-the-problem","title":"Understanding the Problem","text":""},{"location":"user-guide/optimization/#min-cost-flow-formulation","title":"Min-Cost Flow Formulation","text":"<p>The optimization minimizes total rebalancing cost:</p> \\[ \\min \\sum_{i,j} c_{ij} \\cdot x_{ij} \\] <p>Subject to: - Supply constraints: vehicles available at each location - Demand constraints: demand to serve at each location - Flow conservation: inflow = outflow for transit nodes</p>"},{"location":"user-guide/optimization/#decision-variables","title":"Decision Variables","text":"Variable Description \\(x_{ij}\\) Number of vehicles moving from location \\(i\\) to \\(j\\)"},{"location":"user-guide/optimization/#parameters","title":"Parameters","text":"Parameter Description \\(c_{ij}\\) Cost to move one vehicle from \\(i\\) to \\(j\\) \\(s_i\\) Supply (vehicles) at location \\(i\\) \\(d_j\\) Demand at location \\(j\\)"},{"location":"user-guide/optimization/#configuration","title":"Configuration","text":"config/config.yaml<pre><code>optimization:\n  solver: \"ortools\"\n\n  stages:\n    - min_cost_flow\n    # - critical_demand  # Phase 2\n    # - milp_refinement  # Phase 4\n\n  constraints:\n    max_distance: 100\n    capacity_per_vehicle: 1\n    min_service_level: 0.95\n    max_rebalancing_cost: 10000\n\n  solver_settings:\n    time_limit_seconds: 60\n    optimality_gap: 0.01\n</code></pre>"},{"location":"user-guide/optimization/#constraint-types","title":"Constraint Types","text":""},{"location":"user-guide/optimization/#capacity-constraints","title":"Capacity Constraints","text":"<pre><code>{\n  \"max_vehicles_per_location\": 20,\n  \"min_vehicles_per_location\": 2,\n  \"total_fleet_size\": 50\n}\n</code></pre>"},{"location":"user-guide/optimization/#operational-constraints","title":"Operational Constraints","text":"<pre><code>{\n  \"max_rebalancing_distance_km\": 100,\n  \"max_daily_trips_per_vehicle\": 10\n}\n</code></pre>"},{"location":"user-guide/optimization/#service-level-constraints","title":"Service Level Constraints","text":"<pre><code>{\n  \"min_demand_coverage\": 0.95,\n  \"max_wait_time_minutes\": 15\n}\n</code></pre>"},{"location":"user-guide/optimization/#output-format","title":"Output Format","text":""},{"location":"user-guide/optimization/#allocation-plan","title":"Allocation Plan","text":"<pre><code>pd.DataFrame({\n    \"vehicle_id\": [\"V001\", \"V002\", \"V003\"],\n    \"source_location\": [1, 2, 3],\n    \"target_location\": [2, 2, 1],\n    \"cost\": [15.5, 0.0, 22.3],\n    \"assignment\": [\"rebalance\", \"stay\", \"rebalance\"]\n})\n</code></pre>"},{"location":"user-guide/optimization/#kpis","title":"KPIs","text":"KPI Description Target <code>total_cost</code> Total rebalancing cost Minimize <code>demand_coverage</code> % of demand served &gt; 95% <code>rebalanced_count</code> Vehicles moved - <code>utilization</code> Fleet utilization 70-85%"},{"location":"user-guide/optimization/#visualization","title":"Visualization","text":"<pre><code>graph LR\n    subgraph Before[\"Before Rebalancing\"]\n        L1A[Location 1: 10 vehicles]\n        L2A[Location 2: 5 vehicles]\n        L3A[Location 3: 15 vehicles]\n    end\n\n    subgraph After[\"After Rebalancing\"]\n        L1B[Location 1: 8 vehicles]\n        L2B[Location 2: 12 vehicles]\n        L3B[Location 3: 10 vehicles]\n    end\n\n    L1A --&gt;|\"-2\"| L1B\n    L2A --&gt;|\"+7\"| L2B\n    L3A --&gt;|\"-5\"| L3B</code></pre>"},{"location":"user-guide/optimization/#troubleshooting","title":"Troubleshooting","text":"Infeasible Problem <p>The optimizer cannot find a valid solution. Check:</p> <ul> <li>Total supply &gt;= total demand</li> <li>Constraints are not too restrictive</li> <li>Network is connected (all locations reachable)</li> </ul> Suboptimal Solution <p>Solution quality may be affected by:</p> <ul> <li>Time limit too short</li> <li>Large optimality gap setting</li> <li>Complex constraint interactions</li> </ul> Slow Performance <p>Speed up optimization:</p> <ul> <li>Reduce number of locations</li> <li>Increase optimality gap</li> <li>Use simpler constraint formulation</li> </ul>"},{"location":"user-guide/optimization/#best-practices","title":"Best Practices","text":"<p>Input Validation</p> <ul> <li>Verify forecast data is complete</li> <li>Ensure fleet state is current</li> <li>Check constraint feasibility</li> </ul> <p>Iterative Refinement</p> <ul> <li>Start with relaxed constraints</li> <li>Tighten constraints gradually</li> <li>Monitor solution quality</li> </ul>"},{"location":"user-guide/optimization/#next-steps","title":"Next Steps","text":"<ul> <li>Results Guide - Interpret optimization outputs</li> <li>Risk Guide - Factor risk into optimization</li> <li>API Reference - Optimization endpoint details</li> </ul>"},{"location":"user-guide/results/","title":"Understanding Results","text":"<p>Learn how to interpret and act on platform outputs.</p>"},{"location":"user-guide/results/#overview","title":"Overview","text":"<p>The platform produces several types of outputs:</p> <ul> <li>Forecasts - Predicted demand by location and time</li> <li>Allocation Plans - Vehicle assignment recommendations</li> <li>KPIs - Key performance indicators</li> <li>Explanations - Decision transparency (Phase 2+)</li> </ul>"},{"location":"user-guide/results/#forecast-results","title":"Forecast Results","text":""},{"location":"user-guide/results/#output-structure","title":"Output Structure","text":"<pre><code>{\n    \"1\": [15, 18, 22, 25, 28, 24, 20, ...],  # Location 1: hourly demand\n    \"2\": [10, 12, 14, 16, 18, 15, 12, ...],  # Location 2: hourly demand\n    \"3\": [8, 9, 11, 13, 15, 12, 10, ...],    # Location 3: hourly demand\n}\n</code></pre>"},{"location":"user-guide/results/#interpreting-forecasts","title":"Interpreting Forecasts","text":"<pre><code>graph TD\n    A[Forecast Value] --&gt; B{Compare to Capacity}\n    B --&gt;|Demand &gt; Capacity| C[Shortage Risk]\n    B --&gt;|Demand \u2248 Capacity| D[Balanced]\n    B --&gt;|Demand &lt; Capacity| E[Excess Capacity]\n\n    C --&gt; F[Add vehicles]\n    D --&gt; G[Monitor]\n    E --&gt; H[Rebalance out]</code></pre>"},{"location":"user-guide/results/#metrics","title":"Metrics","text":"Metric Description Formula Peak Demand Maximum hourly demand <code>max(forecast)</code> Average Demand Mean hourly demand <code>mean(forecast)</code> Demand Variance Demand variability <code>std(forecast)</code> Peak Hour Hour with highest demand <code>argmax(forecast)</code>"},{"location":"user-guide/results/#allocation-results","title":"Allocation Results","text":""},{"location":"user-guide/results/#allocation-plan","title":"Allocation Plan","text":"<pre><code>pd.DataFrame({\n    \"vehicle_id\": [\"V001\", \"V002\", \"V003\", \"V004\"],\n    \"source_location\": [1, 1, 2, 3],\n    \"target_location\": [2, 1, 3, 1],\n    \"cost\": [15.5, 0.0, 22.3, 18.7],\n    \"assignment\": [\"rebalance\", \"stay\", \"rebalance\", \"rebalance\"]\n})\n</code></pre>"},{"location":"user-guide/results/#assignment-types","title":"Assignment Types","text":"Type Description Count Expected <code>stay</code> Vehicle remains at current location Most vehicles <code>rebalance</code> Vehicle moves to different location Minority <code>maintenance</code> Vehicle scheduled for service Few <code>reserve</code> Vehicle held as backup Optional"},{"location":"user-guide/results/#interpreting-assignments","title":"Interpreting Assignments","text":"<pre><code>graph LR\n    subgraph Current[\"Current State\"]\n        C1[Zone 1: 10]\n        C2[Zone 2: 5]\n        C3[Zone 3: 8]\n    end\n\n    subgraph Recommended[\"Recommended\"]\n        R1[Zone 1: 7]\n        R2[Zone 2: 9]\n        R3[Zone 3: 7]\n    end\n\n    subgraph Actions[\"Actions\"]\n        A1[\"Move 3 from Z1\"]\n        A2[\"Add 4 to Z2\"]\n        A3[\"Move 1 from Z3\"]\n    end\n\n    Current --&gt; Actions\n    Actions --&gt; Recommended</code></pre>"},{"location":"user-guide/results/#key-performance-indicators","title":"Key Performance Indicators","text":""},{"location":"user-guide/results/#primary-kpis","title":"Primary KPIs","text":"KPI Description Target Formula Total Cost Rebalancing cost Minimize Sum of all movement costs Demand Coverage % demand served &gt; 95% Served / Total demand Utilization Fleet usage rate 70-85% Used / Available Service Level On-time service &gt; 90% Timely / Total requests"},{"location":"user-guide/results/#secondary-kpis","title":"Secondary KPIs","text":"KPI Description Target Rebalancing Moves Number of vehicle movements Minimize Empty Miles Distance without passengers Minimize Wait Time Average customer wait &lt; 10 min Vehicle Idle Time Time vehicles sit unused &lt; 30%"},{"location":"user-guide/results/#kpi-dashboard","title":"KPI Dashboard","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Daily KPIs                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Total Cost       \u2502 $2,450 (\u2193 12% vs yesterday)      \u2502\n\u2502 Demand Coverage  \u2502 96.5% (\u2713 above target)           \u2502\n\u2502 Utilization      \u2502 78% (\u2713 within range)             \u2502\n\u2502 Vehicles Moved   \u2502 12 (\u2193 from 18 yesterday)         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"user-guide/results/#result-visualization","title":"Result Visualization","text":""},{"location":"user-guide/results/#demand-vs-capacity","title":"Demand vs Capacity","text":"<pre><code>Demand Coverage by Location\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\nZone 1  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591  82%\nZone 2  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591  92%\nZone 3  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  100%\nZone 4  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591  98%\nZone 5  \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591  68%  \u26a0\ufe0f\n</code></pre>"},{"location":"user-guide/results/#cost-breakdown","title":"Cost Breakdown","text":"<pre><code>pie title Cost Distribution\n    \"Fuel\" : 45\n    \"Driver Time\" : 30\n    \"Wear &amp; Tear\" : 15\n    \"Overhead\" : 10</code></pre>"},{"location":"user-guide/results/#explainability-phase-2","title":"Explainability (Phase 2+)","text":""},{"location":"user-guide/results/#feature-importance","title":"Feature Importance","text":"<pre><code>Top Features for Demand Forecast\n\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\nhour_of_day     \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  35%\nday_of_week     \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591  25%\nlag_24h         \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591  20%\nmonth           \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591  12%\nis_weekend      \u2588\u2588\u2588\u2588\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591   8%\n</code></pre>"},{"location":"user-guide/results/#shap-values","title":"SHAP Values","text":"<p>Explain individual predictions:</p> <pre><code># Why is demand high for Zone 2 at 8am?\nexplanation = explainer.explain(prediction)\nprint(explanation)\n# - hour=8 increases demand by +5.2\n# - day=Monday increases demand by +3.1\n# - lag_24h=high increases demand by +2.8\n</code></pre>"},{"location":"user-guide/results/#taking-action","title":"Taking Action","text":""},{"location":"user-guide/results/#decision-matrix","title":"Decision Matrix","text":"Scenario Recommended Action High demand, low supply Rebalance vehicles IN Low demand, high supply Rebalance vehicles OUT High risk vehicle Schedule maintenance Constraint violation Review constraints Cost spike Investigate anomalies"},{"location":"user-guide/results/#automation","title":"Automation","text":"<pre><code># Automated decision workflow\nif result.kpis['demand_coverage'] &lt; 0.90:\n    alert(\"Low demand coverage - review allocation\")\n\nif result.total_cost &gt; budget_threshold:\n    alert(\"Cost exceeds budget - optimize constraints\")\n\nfor vehicle in high_risk_vehicles:\n    schedule_maintenance(vehicle)\n</code></pre>"},{"location":"user-guide/results/#export-options","title":"Export Options","text":""},{"location":"user-guide/results/#available-formats","title":"Available Formats","text":"Format Use Case JSON API integration CSV Spreadsheet analysis Parquet Data warehouse PDF Stakeholder reports"},{"location":"user-guide/results/#export-example","title":"Export Example","text":"<pre><code># Export to various formats\nresult.to_json(\"outputs/allocation_plan.json\")\nresult.to_csv(\"outputs/allocation_plan.csv\")\nresult.to_parquet(\"outputs/allocation_plan.parquet\")\n</code></pre>"},{"location":"user-guide/results/#next-steps","title":"Next Steps","text":"<ul> <li>Forecasting Guide - Improve forecast accuracy</li> <li>Optimization Guide - Tune optimization</li> <li>API Reference - Programmatic access</li> </ul>"},{"location":"user-guide/risk/","title":"Risk Assessment","text":"<p>Identify and manage risk across your vehicle fleet.</p>"},{"location":"user-guide/risk/#overview","title":"Overview","text":"<p>The risk module assesses:</p> <ul> <li>Asset failure probability - Likelihood of vehicle breakdown</li> <li>Contract violation risk - Risk of exceeding operational limits</li> <li>Remaining useful life - Time until maintenance required</li> </ul>"},{"location":"user-guide/risk/#risk-scoring-methods","title":"Risk Scoring Methods","text":"Method Description Phase Heuristic Rule-based scoring MVP Classification ML-based prediction Phase 2 Survival Analysis Time-to-failure estimation Phase 4"},{"location":"user-guide/risk/#how-it-works","title":"How It Works","text":"<pre><code>graph LR\n    A[Fleet State] --&gt; B[Feature Extraction]\n    B --&gt; C[Risk Model]\n    C --&gt; D[Risk Scores]\n    D --&gt; E[Risk Categories]\n    E --&gt; F[Action Recommendations]</code></pre>"},{"location":"user-guide/risk/#usage","title":"Usage","text":""},{"location":"user-guide/risk/#via-python","title":"Via Python","text":"<pre><code>from src.risk import RiskScorer\nfrom src.utils.config import load_config\n\n# Load configuration\nconfig = load_config()\n\n# Initialize scorer\nscorer = RiskScorer(config)\n\n# Calculate risk scores\nrisk_scores = scorer.calculate(fleet_state)\n\n# Review results\nprint(risk_scores.head())\n#    vehicle_id  risk_score risk_category\n# 0        V001        0.15           low\n# 1        V002        0.72          high\n# 2        V003        0.45        medium\n</code></pre>"},{"location":"user-guide/risk/#heuristic-scoring-mvp","title":"Heuristic Scoring (MVP)","text":"<p>The heuristic scorer uses weighted factors:</p> <pre><code>risk_score = (\n    age_weight * normalized_age +\n    utilization_weight * utilization_rate +\n    maintenance_weight * days_since_maintenance\n)\n</code></pre> <p>Configuration:</p> <pre><code>risk:\n  model: \"heuristic\"\n\n  heuristic_weights:\n    age: 0.3\n    utilization: 0.4\n    maintenance_history: 0.3\n\n  thresholds:\n    high: 0.7\n    medium: 0.4\n    low: 0.0\n</code></pre>"},{"location":"user-guide/risk/#risk-factors","title":"Risk Factors","text":""},{"location":"user-guide/risk/#vehicle-age","title":"Vehicle Age","text":"<pre><code>graph LR\n    A[Vehicle Age] --&gt; B{Age Category}\n    B --&gt;|&lt; 1 year| C[Low Risk]\n    B --&gt;|1-3 years| D[Medium Risk]\n    B --&gt;|&gt; 3 years| E[High Risk]</code></pre>"},{"location":"user-guide/risk/#utilization-rate","title":"Utilization Rate","text":"Utilization Risk Impact &lt; 50% Low - underused 50-80% Normal &gt; 80% High - overused"},{"location":"user-guide/risk/#maintenance-history","title":"Maintenance History","text":"Days Since Maintenance Risk Level &lt; 7 days Low 7-21 days Medium &gt; 21 days High"},{"location":"user-guide/risk/#output-format","title":"Output Format","text":""},{"location":"user-guide/risk/#risk-scores-dataframe","title":"Risk Scores DataFrame","text":"<pre><code>pd.DataFrame({\n    \"vehicle_id\": [\"V001\", \"V002\", \"V003\"],\n    \"risk_score\": [0.15, 0.72, 0.45],\n    \"risk_category\": [\"low\", \"high\", \"medium\"],\n    \"age_days\": [180, 900, 450],\n    \"utilization_rate\": [0.65, 0.92, 0.78],\n    \"days_since_maintenance\": [5, 28, 14]\n})\n</code></pre>"},{"location":"user-guide/risk/#risk-distribution","title":"Risk Distribution","text":"<pre><code>pie title Fleet Risk Distribution\n    \"Low Risk\" : 60\n    \"Medium Risk\" : 25\n    \"High Risk\" : 15</code></pre>"},{"location":"user-guide/risk/#integration-with-optimization","title":"Integration with Optimization","text":"<p>Risk scores can be integrated into optimization:</p> <pre><code># Add risk penalties to optimization\noptimizer = CascadingOptimizer(config)\n\nresult = optimizer.optimize(\n    demand_forecast=forecasts,\n    fleet_state=fleet_state,\n    network_costs=network_costs,\n    constraints=constraints,\n    risk_scores=risk_scores  # Include risk\n)\n</code></pre> <p>Risk integration options:</p> <ol> <li>Soft constraint: Penalize high-risk vehicle usage</li> <li>Hard constraint: Exclude high-risk vehicles</li> <li>Cost adjustment: Increase cost for risky assignments</li> </ol>"},{"location":"user-guide/risk/#recommended-actions","title":"Recommended Actions","text":"Risk Level Action High Schedule immediate maintenance Medium Monitor closely, plan maintenance Low Normal operation"},{"location":"user-guide/risk/#monitoring-dashboard","title":"Monitoring Dashboard","text":"<p>Track risk metrics over time:</p> Metric Description Target Avg Risk Score Fleet average &lt; 0.4 High Risk % Vehicles at high risk &lt; 10% Risk Trend Score change over time Decreasing"},{"location":"user-guide/risk/#best-practices","title":"Best Practices","text":"<p>Regular Assessment</p> <ul> <li>Run risk scoring daily</li> <li>Update fleet state in real-time</li> <li>Track risk trends over time</li> </ul> <p>Threshold Tuning</p> <ul> <li>Start with default thresholds</li> <li>Adjust based on maintenance data</li> <li>Validate against actual failures</li> </ul> <p>Data Quality</p> <ul> <li>Ensure accurate vehicle age data</li> <li>Track actual utilization</li> <li>Record all maintenance events</li> </ul>"},{"location":"user-guide/risk/#next-steps","title":"Next Steps","text":"<ul> <li>Optimization Guide - Use risk in optimization</li> <li>Results Guide - Interpret risk outputs</li> <li>API Reference - Risk endpoint details</li> </ul>"}]}